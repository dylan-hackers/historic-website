<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML
><HEAD
><TITLE
>Using the Melange Interface Generator</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet version 1.13"><LINK
REL="HOME"
TITLE="Gwydion Dylan User's Guide"
HREF="book1.htm"><LINK
REL="PREVIOUS"
TITLE="Using mindy"
HREF="c262.htm"><LINK
REL="NEXT"
TITLE="A Concrete Example"
HREF="c266303.htm"></HEAD
><BODY
BGCOLOR="#FFFFFF"
TEXT="#000000"
><DIV
CLASS="NAVHEADER"
><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>Gwydion Dylan User's Guide</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="c262.htm"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="c266303.htm"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><H1
><A
NAME="MELANGE"
>Chapter 5. Using the Melange Interface Generator</A
></H1
><DIV
CLASS="TOC"
><DL
><DT
><B
>Table of Contents</B
></DT
><DT
><A
HREF="c266.htm#MELANGE-INTRODUCTION"
>Introduction</A
></DT
><DT
><A
HREF="c266303.htm"
>A Concrete Example</A
></DT
><DT
><A
HREF="c266320.htm"
>Basic Use</A
></DT
><DT
><A
HREF="c266348.htm"
>Importing Header Files</A
></DT
><DT
><A
HREF="c266364.htm"
>Specifying Object Names</A
></DT
><DT
><A
HREF="c266453.htm"
>Type Definitions</A
></DT
><DT
><A
HREF="c266499.htm"
>Translating Object Representations</A
></DT
><DT
><A
HREF="c266524.htm"
>Other File Options</A
></DT
><DT
><A
HREF="c266532.htm"
>Function Clauses</A
></DT
><DT
><A
HREF="c266580.htm"
>Struct and Union Clauses</A
></DT
><DT
><A
HREF="c266588.htm"
>Pointer Clauses</A
></DT
><DT
><A
HREF="c266594.htm"
>Constant Clauses</A
></DT
><DT
><A
HREF="c266598.htm"
>Variable Clauses</A
></DT
><DT
><A
HREF="c266627.htm"
>Low level support facilities</A
></DT
><DT
><A
HREF="c266671.htm"
>Static linking mechanisms</A
></DT
><DT
><A
HREF="c266680.htm"
>Differences from Creole</A
></DT
><DT
><A
HREF="c266700.htm"
>Known limitations</A
></DT
><DT
><A
HREF="c266710.htm"
>Proposed modifications</A
></DT
></DL
></DIV
><BLOCKQUOTE
CLASS="ABSTRACT"
><P
>The Melange interface generator provides a mechanism for
      providing access to native C code. It is modeled upon Apple
      Computer's Creole, and shares Creole's goals of automatically
      providing full support for a foreign interface based upon existing
      interface descriptions. It also, like Creole, provides mechanisms for
      explicitly adapting these interfaces to provide a greater match
      between C and Dylan data models.</P
><P
>Melange, however, differs from Creole in a number of
      significant ways. This document, therefore, provides a gentle
      introduction to Melange without attempting to build upon any existing
      descriptions of Creole.</P
></BLOCKQUOTE
><H1
><A
NAME="MELANGE-INTRODUCTION"
>Introduction</A
></H1
><P
>Melange is an automatic interface generator which provides
      transparent access to both functions and data defined or
      generated by existing C libraries. It allows users to import
      "interfaces"<A
NAME="AEN286"
HREF="#FTN.AEN286"
>[1]</A
>
      from existing C header files, controlled by the contents of a
      "define interface" top-level form which may be included in the
      same file as arbitrary Dylan code. The user may use the
      functions and data specified by this interface as if they were
      native Dylan objects, and may export them to other
      modules.</P
><BLOCKQUOTE
CLASS="FOOTNOTES"
><P
><A
NAME="FTN.AEN286"
HREF="c266.htm#AEN286"
>[1]</A
> In fact, a C header file may
      contain arbitrary C code which Melange is unprepared to
      handle. By convention, however, ".h" files con tain only
      "interface declarations"&#8212;type declarations, function
      prototypes, global variable declarations, and "preprocessor
      constants."  Since Melange can meaningfully process all of
      these, it is capable of handling the vast majority of header
      files which will be encountered in practice.</P
></BLOCKQUOTE
><P
>Melange provides reasonable interpretations for the
      various sorts of C declarations which may appear in a header
      file, as well as mechanisms for explicitly modifying the default
      interpretations when necessary. For example, users may: </P
><P
></P
><UL
><LI
><P
>specify rules for the translation of foreign names</P
></LI
><LI
><P
>explicitly specify new names for specific objects or
	  routines</P
></LI
><LI
><P
>specify parameter passing conventions or mutability of
	  foreign objects</P
></LI
><LI
><P
>specify mappings or equivalences between "foreign"
	  data and native equivalents</P
></LI
><LI
><P
>choose to import only a subset of the declarations in the
	  header file</P
></LI
></UL
><P
>All of these customizations, as well as the name of the C
      header file, are specified by a "define interface" clause. See
      <A
HREF="c266303.htm"
>the section called <I
>A Concrete Example</I
></A
> for an
      example. </P
><P
>The basic model for interface importation is based upon
      that used within Apple Computer's "Creole" interface
      generator. There are, however, significant differences in some
      of the details.  (For instance, the "equate", "map", and
      "object-file" directives used in the above example are unique to
      Melange. Likewise, Creole's "type" directive would not be
      accepted by Melange) You should, therefore, not expect Creole
      interface declarations to work within Melange without some
      modification. </P
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="c262.htm"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="book1.htm"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="c266303.htm"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Using <B
CLASS="COMMAND"
>mindy</B
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
>&nbsp;</TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>A Concrete Example</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>