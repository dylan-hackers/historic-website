<?xml version="1.0"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  
  <!-- Relative Navigation -->
  
  <link rel="up" href="drm_59.html" />
  <link rel="prev" href="drm_63.html" />
  <link rel="next" href="drm_65.html" />
  
  <!-- Absolute Navigation -->
  
  <link rel="top" href="drm_1.html" />
  <link rel="start first" href="index.html" />
  <link rel="contents" href="drm_2.html" />
  <link rel="copyright" href="drm_3.html" />
  <link rel="glossary" href="drm_126.html" />
  <link rel="index" href="drm_127.html" />
  <link rel="last author" href="drm_128.html" />
  
  <!-- Chapters -->
  
  <link rel="chapter" title="About This Book" href="drm_4.html" />
  <link rel="chapter" title="1 Introduction" href="drm_5.html" />
  <link rel="chapter" title="2 Syntax" href="drm_9.html" />
  <link rel="chapter" title="3 Program Structure" href="drm_25.html" />
  <link rel="chapter" title="4 Program Control" href="drm_28.html" />
  <link rel="chapter" title="5 Types and Classes" href="drm_38.html" />
  <link rel="chapter" title="6 Functions" href="drm_47.html" />
  <link rel="chapter" title="7 Conditions" href="drm_52.html" />
  <link rel="chapter" title="8 Collections" href="drm_59.html" />
  <link rel="chapter" title="9 Sealing" href="drm_70.html" />
  <link rel="chapter" title="10 Macros" href="drm_76.html" />
  <link rel="chapter" title="11 The Built-In Classes" href="drm_87.html" />
  <link rel="chapter" title="12 The Built-In Functions" href="drm_96.html" />
  <link rel="chapter" title="13 Other Built-In Objects" href="drm_108.html" />
  <link rel="chapter" title="14 The Built-In Macros and Special Definitions" href="drm_110.html" />
  
  <!-- Appendices -->
  
  <link rel="appendix" title="A BNF" href="drm_116.html" />
  <link rel="appendix" title="B Exported Names" href="drm_119.html" />
  
  <!-- Stylesheet -->
  
  <link title="main style sheet" rel="stylesheet" href="drm.css" type="text/css" />

  <title>Collection Alteration and Allocation</title>
</head>
<body>

<div class="wm-div-body">
<a name="HEADING64"></a>

<div class="wm-div-headers">
<p class="header"><a href="drm_65.html" class="header"><img alt="next" src="next.gif" class="header" /></a> <a href="drm_63.html" class="header"><img alt="prev" src="prev.gif" class="header" /></a> <a href="drm_59.html" class="header"><img alt="up" src="up.gif" class="header" /></a> <a href="drm_1.html" class="header"><img alt="top" src="top.gif" class="header" /></a> <a href="drm_2.html" class="header"><img alt="content" src="content.gif" class="header" /></a> <a href="drm_127.html" class="header"><img alt="index" src="index.gif" class="header" /></a></p>
<p class="header">8 Collections</p>

</div>
<a name="HEADING64-0"></a>
<a name="UID-Collections-3519"></a>
<h1 class="H1.Heading1"> <a name="MARKER-9-1013"></a>Collection Alteration and Allocation</h1>
<p class="T1.Text1"><a name="MARKER-2-1014"></a>The contents of a collection are the key/value pairs stored in the collection. The contents are said to be <strong class="bold T1.Text1">altered</strong> when:</p>
<ul class="B1.Bullet1">
  <li class="B1.Bullet1"><a name="MARKER-2-1015"></a>Keys are added or removed (according to the collection's key test).</li>
  <li class="B1.Bullet1">The value of a key (according to the key test) changes (as tested by <code class="cv B1.Bullet1">==</code>).</li>
  <li class="B1.Bullet1">The ordering of the key/value pairs changes. This type of alteration is only possible for explicit key collections that are stable under iteration.</li>
</ul>
<p class="T1.Text1">A function <strong class="bold T1.Text1"><a name="MARKER-2-1016"></a>destructively modifies</strong> its argument collection if calling the function could alter the contents of the argument collection. Unless explicitly documented to do so, functions do not destructively modify their arguments.</p>
<p class="T1.Text1">The <code class="cv T1.Text1">!</code> convention, described on <a href="drm_24.html#MARKER-9-342" class="T1.Text1">page 24</a>, is used to indicate some destructive operations.</p>
<p class="T1.Text1"><a name="MARKER-2-1017"></a>Unless explicity noted, destructive operations are not required to leave their arguments in a well-defined state. More particularly, a destructive operation does not in general turn the argument into the result. It may reuse components of the argument or alter the argument in some unpredictable way in order to produce the result. As a general rule, the return value of the function should be used.</p>
<p class="T1.Text1">A collection <i class="Parameter T1.Text1">C </i>is <strong class="bold T1.Text1"><a name="MARKER-2-1018"></a>fresh</strong> if modification of any pre-existing collection's contents can never modify the contents of <i class="Parameter T1.Text1">C</i> and if modifications to <i class="Parameter T1.Text1">C</i> can never modify the contents of any pre-existing collection. <a name="MARKER-2-1019"></a>Immutable collections cannot be modified, so a fresh immutable collection can share structure with other immutable collections.</p>
<p class="T1.Text1">For example, given that <code class="cv T1.Text1">&lt;pair&gt;</code> is mutable and the result of a call to <code class="cv T1.Text1">list</code> is a fresh instance of <code class="cv T1.Text1">&lt;pair&gt;</code>, we can guarantee that the following expression is always false:</p>
<pre class="Cv.Code">
list(1) == list(1)<a name="MARKER-2-1020"></a>
</pre>

</div>

<div class="wm-div-footers">

<div class="wm-div-toc">



</div>

<hr class="footer" />
<address class="footer">The Dylan Reference Manual - 7 Apr 1998</address>
<p class="footer"><a href="drm_65.html" class="header"><img alt="next" src="next.gif" class="header" /></a> <a href="drm_63.html" class="header"><img alt="prev" src="prev.gif" class="header" /></a> <a href="drm_59.html" class="header"><img alt="up" src="up.gif" class="header" /></a> <a href="drm_1.html" class="header"><img alt="top" src="top.gif" class="header" /></a> <a href="drm_2.html" class="header"><img alt="content" src="content.gif" class="header" /></a> <a href="drm_127.html" class="header"><img alt="index" src="index.gif" class="header" /></a></p>
<p class="footer">Copyright Apple Computer, Inc. 1996. Apple&#174; and the Apple logo are registered trademarks of Apple Computer, Inc. Used with permission. All Rights Reserved.</p>
<p class="footer">Generated with <a href="http://www.harlequin.com/webmaker" class="footer">Harlequin WebMaker&#174;</a></p>

</div>
</body>
</html>
