<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US">
<head>
  
  <!-- Relative Navigation -->
  
  <link rel="up" href="drm_96.html" />
  <link rel="prev" href="drm_103.html" />
  <link rel="next" href="drm_105.html" />
  
  <!-- Absolute Navigation -->
  
  <link rel="top" href="drm_1.html" />
  <link rel="start first" href="index.html" />
  <link rel="copyright" href="drm_2.html" />
  <link rel="contents" href="drm_3.html" />
  <link rel="glossary" href="drm_126.html" />
  <link rel="index" href="drm_127.html" />
  <link rel="last author" href="drm_128.html" />
  
  <!-- Chapters -->
  
  <link rel="chapter" title="About This Book" href="drm_4.html" />
  <link rel="chapter" title="1 Introduction" href="drm_5.html" />
  <link rel="chapter" title="2 Syntax" href="drm_9.html" />
  <link rel="chapter" title="3 Program Structure" href="drm_25.html" />
  <link rel="chapter" title="4 Program Control" href="drm_28.html" />
  <link rel="chapter" title="5 Types and Classes" href="drm_38.html" />
  <link rel="chapter" title="6 Functions" href="drm_47.html" />
  <link rel="chapter" title="7 Conditions" href="drm_52.html" />
  <link rel="chapter" title="8 Collections" href="drm_59.html" />
  <link rel="chapter" title="9 Sealing" href="drm_70.html" />
  <link rel="chapter" title="10 Macros" href="drm_76.html" />
  <link rel="chapter" title="11 The Built-In Classes" href="drm_87.html" />
  <link rel="chapter" title="12 The Built-In Functions" href="drm_96.html" />
  <link rel="chapter" title="13 Other Built-In Objects" href="drm_108.html" />
  <link rel="chapter" title="14 The Built-In Macros and Special Definitions" href="drm_110.html" />
  
  <!-- Appendices -->
  
  <link rel="appendix" title="A BNF" href="drm_116.html" />
  <link rel="appendix" title="B Exported Names" href="drm_119.html" />
  
  <!-- Stylesheet -->
  
  <link title="main style sheet" rel="stylesheet" href="drm.css" type="text/css" />

  <title>The Dylan Reference Manual: Functional Operations</title>
</head>
<body>

<div class="wm-div-body">
<a name="HEADING104"></a>

<div class="wm-div-headers">
<div id="navigation-header">
    <p id="book-title">The Dylan Reference Manual</p>
    <p id="basic-navigation"><a class="previous" title="Go to previous page" href="drm_103.html"><img alt="Previous" src="prev.gif" /></a> <a class="next" title="Go to next page" href="drm_105.html"><img alt="Next" src="next.gif" /></a> <a class="up" title="Go to start of chapter" href="drm_96.html"><img alt="Up" src="up.gif" /></a> <a class="start" title="Go to start of book" href="drm_1.html"><img alt="Top" src="top.gif" /></a> <a class="contents" title="Go to table of contents" href="drm_3.html"><img alt="Contents" src="content.gif" /></a> <a class="index" title="Go to index" href="drm_127.html"><img alt="index" src="index.gif" /></a></p>
  </div>

<div id="section-header">
  <p id="section-prefix">Chapter 12</p>
  <p id="section-name">The Built-In Functions</p>
</div>

<div id="navigation-TOC">
  <ul class="front-matter">
    <li><a href="drm_1.html">Start</a></li>
    <li><a href="drm_3.html">Contents</a></li>
    <li><a href="drm_4.html">About This Book</a></li>
  </ul>
  <ol class="chapters">
    <li><a href="drm_5.html">Introduction</a></li>
    <li><a href="drm_9.html">Syntax</a></li>
    <li><a href="drm_25.html">Program Structure</a></li>
    <li><a href="drm_28.html">Program Control</a></li>
    <li><a href="drm_38.html">Types and Classes</a></li>
    <li><a href="drm_47.html">Functions</a></li>
    <li><a href="drm_52.html">Conditions</a></li>
    <li><a href="drm_59.html">Collections</a></li>
    <li><a href="drm_70.html">Sealing</a></li>
    <li><a href="drm_76.html">Macros</a></li>
    <li><a href="drm_87.html">The Built-In Classes</a></li>
    <li><a href="drm_96.html">The Built-In Functions</a>
      <ul>
	<li><a href="drm_97.html">Overview</a></li>
	<li><a href="drm_98.html">Constructing and Initializing Instances</a></li>
	<li><a href="drm_99.html">Equality and Comparison</a></li>
	<li><a href="drm_100.html">Arithmetic Operations</a></li>
	<li><a href="drm_101.html">Coercing and Copying Objects</a></li>
	<li><a href="drm_102.html">Collection Operations</a></li>
	<li><a href="drm_103.html">Reflective Operations on Types</a></li>
	<li id="current">Functional Operations
	  <ul class="page-toc">
	    <li><a href="#HEADING104-2"><code>compose</code> <span class="attributes-summary">[Function]</span></a></li>
	    <li><a href="#HEADING104-13"><code>complement</code> <span class="attributes-summary">[Function]</span></a></li>
	    <li><a href="#HEADING104-20"><code>disjoin</code> <span class="attributes-summary">[Function]</span></a></li>
	    <li><a href="#HEADING104-29"><code>conjoin</code> <span class="attributes-summary">[Function]</span></a></li>
	    <li><a href="#HEADING104-38"><code>curry</code> <span class="attributes-summary">[Function]</span></a></li>
	    <li><a href="#HEADING104-47"><code>rcurry</code> <span class="attributes-summary">[Function]</span></a></li>
	    <li><a href="#HEADING104-57"><code>always</code> <span class="attributes-summary">[Function]</span></a></li>
	  </ul>
	</li>
	<li><a href="drm_105.html">Function Application</a></li>
	<li><a href="drm_106.html">Reflective Operations on Functions</a></li>
	<li><a href="drm_107.html">Operations on Conditions</a></li>
      </ul>
    </li>
    <li><a href="drm_108.html">Other Built-In Objects</a></li>
    <li><a href="drm_110.html">The Built-In Macros and Special Definitions</a></li>
  </ol>
  <ol class="appendices">
    <li><a href="drm_116.html">BNF</a></li>
    <li><a href="drm_119.html">Exported Names</a></li>
  </ol>
  <ul class="back-matter">
    <li><a href="drm_126.html">Glossary</a></li>
    <li><a href="drm_127.html">Index</a></li>
    <li><a href="drm_128.html">Colophon</a></li>
  </ul>
  <ul class="errata">
    <li><a href="drm_errata.html">Errata</a></li>
  </ul>
</div>

<hr />

</div>

<a name="HEADING104-0"></a>
<a name="UID-Built-In_Functions-420"></a>
<h1 class="H1.Heading1"><a name="MARKER-9-1873"></a>Functional Operations</h1>
<p class="T1.Text1"><a name="MARKER-2-1874"></a>The following operations are used to create new functions from other functions or objects. Often the Dylan compiler will have special knowledge of these operations to allow for efficient in-line compilation.</p>
<a name="HEADING104-2"></a>
<h3 class="H4.Heading4"><code><a name="MARKER-2-1875"></a>compose</code> <span class="attributes-summary">[Function]</span></h3>
<hr class="H4.Heading4" />
<p class="SD.ShortDescription"><a name="MARKER-2-1755"></a>Returns the composition of one or more functions.</p>
<dl class="Cliche">
  <dt class="Cliche"><span>Signature:</span></dt>
  <dd class="Cliche">
    <p class="signature">
      <code>compose <var>function1</var> #rest <var>more-functions</var> </code>
      &rArr;<code> <var>function</var></code>
    </p>
  </dd>
  <dt class="Cliche"><span>Arguments:</span></dt>
  <dd class="Cliche">
    <dl>
      <dt><var>function1</var></dt>
      <dd><p class="Cliche">An instance of <code>&lt;function&gt;</code>.</p></dd>
      <dt class="RP.RoutineParam"><var>more-functions</var></dt>
      <dd class="RP.RoutineParam"><p class="RP.RoutineParam"> Instances of <code>&lt;function&gt;</code>.</p></dd>
    </dl>
  </dd>
  <dt class="Cliche"><span>Values:</span></dt>
  <dd class="Cliche">
    <dl>
      <dt><var>function</var></dt>
      <dd>
        <p class="Cliche">An instance of <code>&lt;function&gt;</code>.</p>
      </dd>
    </dl>
  </dd>
  <dt class="Cliche"><span>Description:</span></dt>
  <dd class="Cliche"><p class="Cliche"> When called with just a single argument, <code>compose</code> returns that argument.</p>
    <p class="T1.Text1">When called with two arguments, <code>compose</code> returns a function that applies the second function to its arguments and then applies the first function to the (single) result value.</p>
    <p class="T1.Text1">With three or more arguments, <code>compose</code> composes pairs of argument functions, until a single composite function is obtained. (It doesn't matter if the pairings are done from the left or from the right, as long as the order of application is preserved.)</p>
    <pre class="Cv.Code">
define constant number-of-methods =
  compose(size, generic-function-methods)
define constant root-position = compose(position, root-view) </pre>
  </dd>
</dl>
<a name="HEADING104-13"></a>
<h3 class="H4.Heading4"><code><a name="MARKER-2-1877"></a>complement</code> <span class="attributes-summary">[Function]</span></h3>
<hr class="H4.Heading4" />
<p class="SD.ShortDescription"><a name="MARKER-9-1878"></a>Returns a function that expresses the complement of a predicate.</p>
<dl class="Cliche">
  <dt class="Cliche"><span>Signature:</span></dt>
  <dd class="Cliche">
    <p class="signature">
      <code>complement <var>predicate</var> </code>
      &rArr;<code> <var>function</var></code>
    </p>
  </dd>
  <dt class="Cliche"><span>Arguments:</span></dt>
  <dd class="Cliche">
    <dl>
      <dt><var>predicate</var></dt>
      <dd>
        <p class="Cliche">An instance of <code>&lt;function&gt;</code>.</p>
      </dd>
    </dl>
  </dd>
  <dt class="Cliche"><span>Values:</span></dt>
  <dd class="Cliche">
    <dl>
      <dt><var>function</var></dt>
      <dd>
        <p class="Cliche">An instance of <code>&lt;function&gt;</code>.</p>
      </dd>
    </dl>
  </dd>
  <dt class="Cliche"><span>Description:</span></dt>
  <dd class="Cliche"><p class="Cliche"> Returns a function that applies <var>predicate </var> to its arguments. If the <var>predicate </var>returns <code>#f</code>, the complement returns <code>#t</code>; otherwise, the complement returns <code>#f</code>. For example, <code>odd?</code> could be defined as <code>complement(even?)</code>.</p>
    <pre class="Cv.Code">
choose(complement(zero?), #(1, 3, 0, 4, 0, 0, 3))
  &rArr;  #(1, 3, 4, 3) </pre>
  </dd>
</dl>
<a name="HEADING104-20"></a>
<h3 class="H4.Heading4"><code><a name="MARKER-2-1879"></a>disjoin</code> <span class="attributes-summary">[Function]</span></h3>
<hr class="H4.Heading4" />
<p class="SD.ShortDescription"><a name="MARKER-9-1880"></a>Returns a function that expresses the disjunction of one or more predicates.</p>
<dl class="Cliche">
  <dt class="Cliche"><span>Signature:</span></dt>
  <dd class="Cliche">
    <p class="signature">
      <code>disjoin <var>predicate1</var> #rest <var>more-predicates</var> </code>
      &rArr;<code> <var>function</var></code>
    </p>
  </dd>
  <dt class="Cliche"><span>Arguments:</span></dt>
  <dd class="Cliche">
    <dl>
      <dt><var>predicate1</var></dt>
      <dd><p class="Cliche">An instance of <code>&lt;function&gt;</code>.</p></dd>
      <dt class="RP.RoutineParam"><var>more-predicates</var></dt>
      <dd class="RP.RoutineParam"><p class="RP.RoutineParam">  Functions.</p></dd>
    </dl>
  </dd>
  <dt class="Cliche"><span>Values:</span></dt>
  <dd class="Cliche">
    <dl>
      <dt><var>function</var></dt>
      <dd>
        <p class="Cliche">An instance of <code>&lt;function&gt;</code>.</p>
      </dd>
    </dl>
  </dd>
  <dt class="Cliche"><span>Description:</span></dt>
  <dd class="Cliche"><p class="Cliche"> Returns a single function, termed the disjunction of its argument functions. The disjunction accepts any number of arguments and operates by applying the predicates, in order, to the arguments. If any of the predicates returns true, the remaining predicates (if any) are not applied, and the true result is returned. Otherwise, all the predicates will be applied, and <code>#f</code> returned.</p>
    <p class="T1.Text1">A disjunction is similar to an <code>|</code> expression of calls to the predicates.</p>
    <pre class="Cv.Code">
define constant nonzero? = disjoin(positive?, negative?);
nonzero?(4)
<code> &rArr;</code>  #t </pre>
  </dd>
</dl>
<a name="HEADING104-29"></a>
<h3 class="H4.Heading4"><code><a name="MARKER-2-1881"></a>conjoin</code> <span class="attributes-summary">[Function]</span></h3>
<hr class="H4.Heading4" />
<p class="SD.ShortDescription"><a name="MARKER-9-1882"></a>Returns a function that expresses the conjunction of one or more predicates.</p>
<dl class="Cliche">
  <dt class="Cliche"><span>Signature:</span></dt>
  <dd class="Cliche">
    <p class="signature">
      <code>conjoin <var>predicate1</var> #rest <var>more-predicates</var> </code>
      &rArr;<code> <var>function</var></code>
    </p>
  </dd>
  <dt class="Cliche"><span>Arguments:</span></dt>
  <dd class="Cliche">
    <dl>
      <dt><var>predicate1</var></dt>
      <dd><p class="Cliche">An instance of <code>&lt;function&gt;</code>.</p></dd>
      <dt class="RP.RoutineParam"><var>more-predicates</var></dt>
      <dd class="RP.RoutineParam"><p class="RP.RoutineParam"> Instances of <code>&lt;function&gt;</code>.</p></dd>
    </dl>
  </dd>
  <dt class="Cliche"><span>Values:</span></dt>
  <dd class="Cliche">
    <dl>
      <dt><var>function</var></dt>
      <dd>
        <p class="Cliche">An instance of <code>&lt;function&gt;</code>.</p>
      </dd>
    </dl>
  </dd>
  <dt class="Cliche"><span>Description:</span></dt>
  <dd class="Cliche"><p class="Cliche"> Returns a single function, termed the conjunction of its argument functions. The conjunction accepts any number of arguments and operates by applying the predicates, in order, to the arguments. If any of the predicates returns <code>#f</code>, the remaining predicates (if any) are not applied and <code>#f</code> is immediately returned. Otherwise, all the predicates will be applied, and the result of the last application is returned.</p>
    <p class="T1.Text1">A conjunction is similar to an <code>&amp;</code> expression of calls to the predicates.</p>
    <pre class="Cv.Code">
choose(conjoin(positive?, integral?), #(-1, -3, 5, -3.7, 3.5, 7))
  &rArr; #(5, 7) </pre>
  </dd>
</dl>
<a name="HEADING104-38"></a>
<h3 class="H4.Heading4"><code><a name="MARKER-2-1883"></a>curry</code> <span class="attributes-summary">[Function]</span></h3>
<hr class="H4.Heading4" />
<p class="SD.ShortDescription"><a name="MARKER-9-1884"></a>Returns a function based on an existing function and a number of default initial arguments.</p>
<dl class="Cliche">
  <dt class="Cliche"><span>Signature:</span></dt>
  <dd class="Cliche">
    <p class="signature">
      <code>curry <var>function</var> #rest <var>curried-args</var> </code>
      &rArr;<code> <var>new-function</var></code>
    </p>
  </dd>
  <dt class="Cliche"><span>Arguments:</span></dt>
  <dd class="Cliche">
    <dl>
      <dt><var>function</var></dt>
      <dd><p class="Cliche">An instance of <code>&lt;function&gt;</code>.</p></dd>
      <dt class="RP.RoutineParam"><var>curried-args</var></dt>
      <dd class="RP.RoutineParam"><p class="RP.RoutineParam"> Instances of <code>&lt;object&gt;</code>.</p></dd>
    </dl>
  </dd>
  <dt class="Cliche"><span>Values:</span></dt>
  <dd class="Cliche">
    <dl>
      <dt><var>new-function</var></dt>
      <dd>
        <p class="Cliche">An instance of <code>&lt;function&gt;</code>.</p>
      </dd>
    </dl>
  </dd>
  <dt class="Cliche"><span>Description:</span></dt>
  <dd class="Cliche"><p class="Cliche"> Returns a function that applies <var>function</var> to <var>curried-args</var> plus its own arguments, in that order. For example <code>curry (\&gt;, 6)</code> is a predicate that returns true for values less than 6; <code>curry (\=, &quot;x&quot;)</code> is a predicate that tests for equality with the string <code>&quot;x&quot;</code>; <code>curry (\+, 1)</code> is an incrementing function; <code>curry (concatenate, &quot;set-&quot;)</code> is a function that concatenates the string <code>&quot;set-&quot;</code> to any additional sequences it is passed.</p>
    <pre class="Cv.Code">
define constant all-odd? = curry(every?, odd?)
all-odd?(list(1, 3, 5))
<code> &rArr;</code> #t
define constant less-than-10? = curry(\&gt;, 10)
less-than-10?(4)
<code> &rArr;</code> #t </pre>
  </dd>
</dl>
<a name="HEADING104-47"></a>
<h3 class="H4.Heading4"><code><a name="MARKER-2-1885"></a>rcurry</code> <span class="attributes-summary">[Function]</span></h3>
<hr class="H4.Heading4" />
<p class="SD.ShortDescription"><a name="MARKER-9-1886"></a>Returns a function based on an existing function and a number of default final arguments.</p>
<dl class="Cliche">
  <dt class="Cliche"><span>Signature:</span></dt>
  <dd class="Cliche">
    <p class="signature">
      <code>rcurry <var>function</var> #rest <var>curried-args</var> </code>
      &rArr;<code> <var>new-function</var></code>
    </p>
  </dd>
  <dt class="Cliche"><span>Arguments:</span></dt>
  <dd class="Cliche">
    <dl>
      <dt><var>function</var></dt>
      <dd><p class="Cliche">An instance of <code>&lt;function&gt;</code>.</p></dd>
      <dt class="RP.RoutineParam"><var>curried-args</var></dt>
      <dd class="RP.RoutineParam"><p class="RP.RoutineParam"> Instances of <code>&lt;object&gt;</code>.</p></dd>
    </dl>
  </dd>
  <dt class="Cliche"><span>Values:</span></dt>
  <dd class="Cliche">
    <dl>
      <dt><var>new-function</var></dt>
      <dd>
        <p class="Cliche">An instance of <code>&lt;function&gt;</code>.</p>
      </dd>
    </dl>
  </dd>
  <dt class="Cliche"><span>Description:</span></dt>
  <dd class="Cliche"><p class="Cliche"> Returns a function that applies <var>function</var> to <var>curried-args</var> plus its own arguments, with the <var>curried-args</var> occurring last.</p>
    <p class="T1.Text1"><code>rcurry</code> ("right" curry) operates just like <code>curry</code>, except it allows the rightmlost arguments of <var>function </var>to be specified in advance, rather than the leftmost arguments. For example, <code>rcurry (\&gt;, 6)</code> is a predicate that returns true for values greater than 6.</p>
    <pre class="Cv.Code">
define constant number? = rcurry(instance?, &lt;number&gt;)
number?(4) 
<code> &rArr;</code> #t
number?(&quot;string&quot;)
<code> &rArr;</code> #f
define constant greater-than-10? = rcurry(\&gt;, 10)
greater-than-10?(4)
<code> &rArr;</code> #f </pre>
  </dd>
</dl>
<a name="HEADING104-57"></a>
<h3 class="H4.Heading4"><code><a name="MARKER-2-1887"></a>always</code> <span class="attributes-summary">[Function]</span></h3>
<hr class="H4.Heading4" />
<p class="SD.ShortDescription">Returns a function that always returns a particular object<a name="MARKER-9-1888"></a>.</p>
<dl class="Cliche">
  <dt class="Cliche"><span>Signature:</span></dt>
  <dd class="Cliche">
    <p class="signature">
      <code>always <var>object</var> </code>
      &rArr;<code> <var>function</var></code>
    </p>
  </dd>
  <dt class="Cliche"><span>Arguments:</span></dt>
  <dd class="Cliche">
    <dl>
      <dt><var>object</var></dt>
      <dd><p class="Cliche">An instance of <code>&lt;object&gt;</code>.</p></dd>
    </dl>
  </dd>
  <dt class="Cliche"><span>Values:</span></dt>
  <dd class="Cliche">
    <dl>
      <dt><var>function</var></dt>
      <dd>
        <p class="Cliche">An instance of <code>&lt;function&gt;</code>.</p>
      </dd>
    </dl>
  </dd>
  <dt class="Cliche"><span>Description:</span></dt>
  <dd class="Cliche"><p class="Cliche"> Returns a function that can be called with any number of arguments. The function ignores its arguments and always returns <var>object</var>.</p>
    <pre class="Cv.Code">
define constant menu = always(&quot;spam!&quot;)
menu(&quot;today&quot;) 
<code> &rArr;</code> &quot;spam!&quot;
menu(&quot;tomorrow&quot;)  
<code> &rArr;</code> &quot;spam!&quot;
menu(4, 5, 6)
<code> &rArr;</code> &quot;spam!&quot; </pre>
  </dd>
</dl>

</div>

<div class="wm-div-footers">

<hr class="footer" />
<address class="footer">The Dylan Reference Manual - 7 Apr 1998</address>
<p class="footer"><a class="previous" title="Go to previous page" href="drm_103.html"><img alt="Previous" src="prev.gif" /></a> <a class="next" title="Go to next page" href="drm_105.html"><img alt="Next" src="next.gif" /></a> <a class="up" title="Go to start of chapter" href="drm_96.html"><img alt="Up" src="up.gif" /></a> <a class="start" title="Go to start of book" href="drm_1.html"><img alt="Top" src="top.gif" /></a> <a class="contents" title="Go to table of contents" href="drm_3.html"><img alt="Contents" src="content.gif" /></a> <a class="index" title="Go to index" href="drm_127.html"><img alt="index" src="index.gif" /></a></p>
<p class="footer">Copyright Apple Computer, Inc. 1996. Apple&#174; and the Apple logo are registered trademarks of Apple Computer, Inc. Used with permission. All Rights Reserved.</p>
<p class="footer">Originally generated with <a href="http://www.harlequin.com/webmaker" class="footer">Harlequin WebMaker&#174;</a>, subsequently revised.</p>

</div>
</body>
</html>
