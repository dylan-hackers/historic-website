<?xml version="1.0"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="top" href="drm_1.html" />
<link rel="up" href="drm_96.html" />
<link rel="prev" href="drm_103.html" />
<link rel="next" href="drm_105.html" />
<link title="main style sheet" rel="stylesheet" href="drm.css" type="text/css" />
<title>Functional Operations</title>
</head>
<body>

<div class="wm-div-body">
<a name="HEADING104"></a>

<div class="wm-div-headers">
<p class="header"><a href="drm_105.html" class="header"><img alt="next" src="next.gif" class="header" /></a> <a href="drm_103.html" class="header"><img alt="prev" src="prev.gif" class="header" /></a> <a href="drm_96.html" class="header"><img alt="up" src="up.gif" class="header" /></a> <a href="drm_1.html" class="header"><img alt="top" src="top.gif" class="header" /></a> <a href="drm_2.html" class="header"><img alt="content" src="content.gif" class="header" /></a> <a href="drm_127.html" class="header"><img alt="index" src="index.gif" class="header" /></a></p>
<p class="header">12 The Built-In Functions</p>

</div>
<a name="HEADING104-0"></a>
<a name="UID-Built-In_Functions-420"></a>
<h1 class="H1.Heading1"> <a name="MARKER-9-1873"></a>Functional Operations</h1>
<p class="T1.Text1"><a name="MARKER-2-1874"></a>The following operations are used to create new functions from other functions or objects. Often the Dylan compiler will have special knowledge of these operations to allow for efficient in-line compilation.</p>
<a name="HEADING104-2"></a>
<h3 class="H4.Heading4"> <code class="Code H4.Heading4"><a name="MARKER-2-1875"></a>compose</code> <span class="attributes-summary">[Function]</span></h3>
<hr class="H4.Heading4" />
<p class="SD.ShortDescription"><a name="MARKER-2-1755"></a>Returns the composition of one or more functions.</p>
<dl class="Cliche">
  <dt class="Cliche"><strong class="IMPORTANT Cliche">Signature:</strong></dt>
  <dd class="Cliche"><p class="Cliche"> <code class="cv Cliche">compose <i class="Parameter cv Cliche">function1<strong class="Parameter cv Cliche"> #rest more-functions   &rArr;  function</strong></i></code></p></dd>
  <dt class="Cliche"><strong class="IMPORTANT Cliche">Arguments:</strong></dt>
  <dd class="Cliche"><p class="Cliche"> <i class="Parameter Cliche">function1</i> An instance of <code class="cv Cliche">&lt;function&gt;</code>.</p></dd>
  <dd><dl class="RP.RoutineParam">
      <dt class="RP.RoutineParam"><i class="Parameter RP.RoutineParam">more-functions</i></dt>
      <dd class="RP.RoutineParam"><p class="RP.RoutineParam"> Instances of <code class="cv RP.RoutineParam">&lt;function&gt;</code>.</p></dd>
  </dl></dd>
  <dt class="Cliche"><strong class="IMPORTANT Cliche">Values:</strong></dt>
  <dd class="Cliche"><p class="Cliche"> <i class="Parameter Cliche">function</i> An instance of <code class="cv Cliche">&lt;function&gt;</code>.</p></dd>
  <dt class="Cliche"><strong class="IMPORTANT Cliche">Description:</strong></dt>
  <dd class="Cliche"><p class="Cliche"> When called with just a single argument, <code class="Cliche">compose</code> returns that argument.</p>
    <p class="T1.Text1">When called with two arguments, <code class="T1.Text1">compose</code> returns a function that applies the second function to its arguments and then applies the first function to the (single) result value.</p>
    <p class="T1.Text1">With three or more arguments, <code class="T1.Text1">compose</code> composes pairs of argument functions, until a single composite function is obtained. (It doesn't matter if the pairings are done from the left or from the right, as long as the order of application is preserved.)</p>
    <pre class="Cv.Code">
define constant number-of-methods =
  compose(size, generic-function-methods)
define constant root-position = compose(position, root-view) </pre>
  </dd>
</dl>
<a name="HEADING104-13"></a>
<h3 class="H4.Heading4"> <code class="Code H4.Heading4"><a name="MARKER-2-1877"></a>complement</code> <span class="attributes-summary">[Function]</span></h3>
<hr class="H4.Heading4" />
<p class="SD.ShortDescription"><a name="MARKER-9-1878"></a>Returns a function that expresses the complement of a predicate.</p>
<dl class="Cliche">
  <dt class="Cliche"><strong class="IMPORTANT Cliche">Signature:</strong></dt>
  <dd class="Cliche"><p class="Cliche"> <code class="cv Cliche">complement <i class="Parameter cv Cliche">predicate<strong class="Parameter cv Cliche">   &rArr;  function</strong></i></code></p></dd>
  <dt class="Cliche"><strong class="IMPORTANT Cliche">Arguments:</strong></dt>
  <dd class="Cliche"><p class="Cliche"> <i class="Parameter Cliche">predicate</i> An instance of <code class="cv Cliche">&lt;function&gt;</code>.</p></dd>
  <dt class="Cliche"><strong class="IMPORTANT Cliche">Values:</strong></dt>
  <dd class="Cliche"><p class="Cliche"> <i class="Parameter Cliche">function</i> An instance of <code class="cv Cliche">&lt;function&gt;</code>.</p></dd>
  <dt class="Cliche"><strong class="IMPORTANT Cliche">Description:</strong></dt>
  <dd class="Cliche"><p class="Cliche"> Returns a function that applies <i class="Cliche">predicate </i> to its arguments. If the <i class="Cliche">predicate </i>returns <code class="Cliche">#f</code>, the complement returns <code class="Cliche">#t</code>; otherwise, the complement returns <code class="Cliche">#f</code>. For example, <code class="Cliche">odd?</code> could be defined as <code class="Cliche">complement(even?)</code>.</p>
    <pre class="Cv.Code">
choose(complement(zero?), #(1, 3, 0, 4, 0, 0, 3))
  &rArr;  #(1, 3, 4, 3) </pre>
  </dd>
</dl>
<a name="HEADING104-20"></a>
<h3 class="H4.Heading4"> <code class="Code H4.Heading4"><a name="MARKER-2-1879"></a>disjoin</code> <span class="attributes-summary">[Function]</span></h3>
<hr class="H4.Heading4" />
<p class="SD.ShortDescription"><a name="MARKER-9-1880"></a>Returns a function that expresses the disjunction of one or more predicates.</p>
<dl class="Cliche">
  <dt class="Cliche"><strong class="IMPORTANT Cliche">Signature:</strong></dt>
  <dd class="Cliche"><p class="Cliche"> <code class="cv Cliche">disjoin <i class="Parameter cv Cliche">predicate1<strong class="Parameter cv Cliche"> #rest more-predicates   &rArr;  function</strong></i></code></p></dd>
  <dt class="Cliche"><strong class="IMPORTANT Cliche">Arguments:</strong></dt>
  <dd class="Cliche"><p class="Cliche"> <i class="Parameter Cliche">predicate1</i> An instance of <code class="cv Cliche">&lt;function&gt;</code>.</p></dd>
  <dd><dl class="RP.RoutineParam">
      <dt class="RP.RoutineParam"><i class="Parameter RP.RoutineParam">more-predicates</i></dt>
      <dd class="RP.RoutineParam"><p class="RP.RoutineParam">  Functions.</p></dd>
  </dl></dd>
  <dt class="Cliche"><strong class="IMPORTANT Cliche">Values:</strong></dt>
  <dd class="Cliche"><p class="Cliche"> <i class="Parameter Cliche">function</i> An instance of <code class="cv Cliche">&lt;function&gt;</code>.</p></dd>
  <dt class="Cliche"><strong class="IMPORTANT Cliche">Description:</strong></dt>
  <dd class="Cliche"><p class="Cliche"> Returns a single function, termed the disjunction of its argument functions. The disjunction accepts any number of arguments and operates by applying the predicates, in order, to the arguments. If any of the predicates returns true, the remaining predicates (if any) are not applied, and the true result is returned. Otherwise, all the predicates will be applied, and <code class="Cliche">#f</code> returned.</p>
    <p class="T1.Text1">A disjunction is similar to an <code class="T1.Text1">|</code> expression of calls to the predicates.</p>
    <pre class="Cv.Code">
define constant nonzero? = disjoin(positive?, negative?);
nonzero?(4)
<code class="cv Cv.Code"> &rArr;</code>  #t </pre>
  </dd>
</dl>
<a name="HEADING104-29"></a>
<h3 class="H4.Heading4"> <code class="Code H4.Heading4"><a name="MARKER-2-1881"></a>conjoin</code> <span class="attributes-summary">[Function]</span></h3>
<hr class="H4.Heading4" />
<p class="SD.ShortDescription"><a name="MARKER-9-1882"></a>Returns a function that expresses the conjunction of one or more predicates.</p>
<dl class="Cliche">
  <dt class="Cliche"><strong class="IMPORTANT Cliche">Signature:</strong></dt>
  <dd class="Cliche"><p class="Cliche"> <code class="cv Cliche">conjoin <i class="Parameter cv Cliche">predicate1<strong class="Parameter cv Cliche"> #rest more-predicates   &rArr;  function</strong></i></code></p></dd>
  <dt class="Cliche"><strong class="IMPORTANT Cliche">Arguments:</strong></dt>
  <dd class="Cliche"><p class="Cliche"> <i class="Parameter Cliche">predicate1</i> An instance of <code class="cv Cliche">&lt;function&gt;</code>.</p></dd>
  <dd><dl class="RP.RoutineParam">
      <dt class="RP.RoutineParam"><i class="Parameter RP.RoutineParam">more-predicates</i></dt>
      <dd class="RP.RoutineParam"><p class="RP.RoutineParam"> Instances of <code class="cv RP.RoutineParam">&lt;function&gt;</code>.</p></dd>
  </dl></dd>
  <dt class="Cliche"><strong class="IMPORTANT Cliche">Values:</strong></dt>
  <dd class="Cliche"><p class="Cliche"> <i class="Parameter Cliche">function</i> An instance of <code class="cv Cliche">&lt;function&gt;</code>.</p></dd>
  <dt class="Cliche"><strong class="IMPORTANT Cliche">Description:</strong></dt>
  <dd class="Cliche"><p class="Cliche"> Returns a single function, termed the conjunction of its argument functions. The conjunction accepts any number of arguments and operates by applying the predicates, in order, to the arguments. If any of the predicates returns <code class="Cliche">#f</code>, the remaining predicates (if any) are not applied and <code class="Cliche">#f</code> is immediately returned. Otherwise, all the predicates will be applied, and the result of the last application is returned.</p>
    <p class="T1.Text1">A conjunction is similar to an <code class="T1.Text1">&amp;</code> expression of calls to the predicates.</p>
    <pre class="Cv.Code">
choose(conjoin(positive?, integral?), #(-1, -3, 5, -3.7, 3.5, 7))
  &rArr; #(5, 7) </pre>
  </dd>
</dl>
<a name="HEADING104-38"></a>
<h3 class="H4.Heading4"> <code class="Code H4.Heading4"><a name="MARKER-2-1883"></a>curry</code> <span class="attributes-summary">[Function]</span></h3>
<hr class="H4.Heading4" />
<p class="SD.ShortDescription"><a name="MARKER-9-1884"></a>Returns a function based on an existing function and a number of default initial arguments.</p>
<dl class="Cliche">
  <dt class="Cliche"><strong class="IMPORTANT Cliche">Signature:</strong></dt>
  <dd class="Cliche"><p class="Cliche"> <code class="cv Cliche">curry <i class="Parameter cv Cliche">function<strong class="Parameter cv Cliche"> #rest curried-args   &rArr;  new-function</strong></i></code></p></dd>
  <dt class="Cliche"><strong class="IMPORTANT Cliche">Arguments:</strong></dt>
  <dd class="Cliche"><p class="Cliche"> <i class="Parameter Cliche">function</i> An instance of <code class="cv Cliche">&lt;function&gt;</code>.</p></dd>
  <dd><dl class="RP.RoutineParam">
      <dt class="RP.RoutineParam"><i class="Parameter RP.RoutineParam">curried-args</i></dt>
      <dd class="RP.RoutineParam"><p class="RP.RoutineParam"> Instances of <code class="cv RP.RoutineParam">&lt;object&gt;</code>.</p></dd>
  </dl></dd>
  <dt class="Cliche"><strong class="IMPORTANT Cliche">Values:</strong></dt>
  <dd class="Cliche"><p class="Cliche"> <i class="Parameter Cliche">new-function</i> An instance of <code class="cv Cliche">&lt;function&gt;</code>.</p></dd>
  <dt class="Cliche"><strong class="IMPORTANT Cliche">Description:</strong></dt>
  <dd class="Cliche"><p class="Cliche"> Returns a function that applies <i class="Cliche">function</i> to <i class="Cliche">curried-args</i> plus its own arguments, in that order. For example <code class="Cliche">curry (\&gt;, 6)</code> is a predicate that returns true for values less than 6; <code class="Cliche">curry (\=, &quot;x&quot;)</code> is a predicate that tests for equality with the string <code class="Cliche">&quot;x&quot;</code>; <code class="Cliche">curry (\+, 1)</code> is an incrementing function; <code class="Cliche">curry (concatenate, &quot;set-&quot;)</code> is a function that concatenates the string <code class="Cliche">&quot;set-&quot;</code> to any additional sequences it is passed.</p>
    <pre class="Cv.Code">
define constant all-odd? = curry(every?, odd?)
all-odd?(list(1, 3, 5))
<code class="cv Cv.Code"> &rArr;</code> #t
define constant less-than-10? = curry(\&gt;, 10)
less-than-10?(4)
<code class="cv Cv.Code"> &rArr;</code> #t </pre>
  </dd>
</dl>
<a name="HEADING104-47"></a>
<h3 class="H4.Heading4"> <code class="Code H4.Heading4"><a name="MARKER-2-1885"></a>rcurry</code> <span class="attributes-summary">[Function]</span></h3>
<hr class="H4.Heading4" />
<p class="SD.ShortDescription"><a name="MARKER-9-1886"></a>Returns a function based on an existing function and a number of default final arguments.</p>
<dl class="Cliche">
  <dt class="Cliche"><strong class="IMPORTANT Cliche">Signature:</strong></dt>
  <dd class="Cliche"><p class="Cliche"> <code class="cv Cliche">rcurry <i class="Parameter cv Cliche">function<strong class="Parameter cv Cliche"> #rest curried-args   &rArr;  new-function</strong></i></code></p></dd>
  <dt class="Cliche"><strong class="IMPORTANT Cliche">Arguments:</strong></dt>
  <dd class="Cliche"><p class="Cliche"> <i class="Parameter Cliche">function</i> An instance of <code class="cv Cliche">&lt;function&gt;</code>.</p></dd>
  <dd><dl class="RP.RoutineParam">
      <dt class="RP.RoutineParam"><i class="Parameter RP.RoutineParam">curried-args</i></dt>
      <dd class="RP.RoutineParam"><p class="RP.RoutineParam"> Instances of <code class="cv RP.RoutineParam">&lt;object&gt;</code>.</p></dd>
  </dl></dd>
  <dt class="Cliche"><strong class="IMPORTANT Cliche">Values:</strong></dt>
  <dd class="Cliche"><p class="Cliche"> <i class="Parameter Cliche">new-function</i> An instance of <code class="cv Cliche">&lt;function&gt;</code>.</p></dd>
  <dt class="Cliche"><strong class="IMPORTANT Cliche">Description:</strong></dt>
  <dd class="Cliche"><p class="Cliche"> Returns a function that applies <i class="Cliche">function</i> to <i class="Cliche">curried-args</i> plus its own arguments, with the <i class="Parameter Cliche">curried-args</i> occurring last.</p>
    <p class="T1.Text1"><code class="T1.Text1">rcurry</code> ("right" curry) operates just like <code class="T1.Text1">curry</code>, except it allows the rightmlost arguments of <i class="T1.Text1">function </i>to be specified in advance, rather than the leftmost arguments. For example, <code class="T1.Text1">rcurry (\&gt;, 6)</code> is a predicate that returns true for values greater than 6.</p>
    <pre class="Cv.Code">
define constant number? = rcurry(instance?, &lt;number&gt;)
number?(4) 
<code class="cv Cv.Code"> &rArr;</code> #t
number?(&quot;string&quot;)
<code class="cv Cv.Code"> &rArr;</code> #f
define constant greater-than-10? = rcurry(\&gt;, 10)
greater-than-10?(4)
<code class="cv Cv.Code"> &rArr;</code> #f </pre>
  </dd>
</dl>
<a name="HEADING104-57"></a>
<h3 class="H4.Heading4"> <code class="Code H4.Heading4"><a name="MARKER-2-1887"></a>always</code> <span class="attributes-summary">[Function]</span></h3>
<hr class="H4.Heading4" />
<p class="SD.ShortDescription">Returns a function that always returns a particular object<a name="MARKER-9-1888"></a>.</p>
<dl class="Cliche">
  <dt class="Cliche"><strong class="IMPORTANT Cliche">Signature:</strong></dt>
  <dd class="Cliche"><p class="Cliche"> <code class="cv Cliche">always <i class="Parameter cv Cliche">object<strong class="Parameter cv Cliche">   &rArr;  function</strong></i></code></p></dd>
  <dt class="Cliche"><strong class="IMPORTANT Cliche">Arguments:</strong></dt>
  <dd class="Cliche"><p class="Cliche"> <i class="Parameter Cliche">object</i> An instance of <code class="cv Cliche">&lt;object&gt;</code>.</p></dd>
  <dt class="Cliche"><strong class="IMPORTANT Cliche">Values:</strong></dt>
  <dd class="Cliche"><p class="Cliche"> <i class="Parameter Cliche">function</i> An instance of <code class="cv Cliche">&lt;function&gt;</code>.</p></dd>
  <dt class="Cliche"><strong class="IMPORTANT Cliche">Description:</strong></dt>
  <dd class="Cliche"><p class="Cliche"> Returns a function that can be called with any number of arguments. The function ignores its arguments and always returns <i class="Cliche">object</i>.</p>
    <pre class="Cv.Code">
define constant menu = always(&quot;spam!&quot;)
menu(&quot;today&quot;) 
<code class="cv Cv.Code"> &rArr;</code> &quot;spam!&quot;
menu(&quot;tomorrow&quot;)  
<code class="cv Cv.Code"> &rArr;</code> &quot;spam!&quot;
menu(4, 5, 6)
<code class="cv Cv.Code"> &rArr;</code> &quot;spam!&quot; </pre>
  </dd>
</dl>

</div>

<div class="wm-div-footers">

<div class="wm-div-toc">

<ul class="footer">
<li class="footer"><a href="drm_104.html#HEADING104-2" class="footer">compose [Function]</a></li>
<li class="footer"><a href="drm_104.html#HEADING104-13" class="footer">complement [Function]</a></li>
<li class="footer"><a href="drm_104.html#HEADING104-20" class="footer">disjoin [Function]</a></li>
<li class="footer"><a href="drm_104.html#HEADING104-29" class="footer">conjoin [Function]</a></li>
<li class="footer"><a href="drm_104.html#HEADING104-38" class="footer">curry [Function]</a></li>
<li class="footer"><a href="drm_104.html#HEADING104-47" class="footer">rcurry [Function]</a></li>
<li class="footer"><a href="drm_104.html#HEADING104-57" class="footer">always [Function]</a></li>
</ul>


</div>

<hr class="footer" />
<address class="footer">The Dylan Reference Manual - 7 Apr 1998</address>
<p class="footer"><a href="drm_105.html" class="header"><img alt="next" src="next.gif" class="header" /></a> <a href="drm_103.html" class="header"><img alt="prev" src="prev.gif" class="header" /></a> <a href="drm_96.html" class="header"><img alt="up" src="up.gif" class="header" /></a> <a href="drm_1.html" class="header"><img alt="top" src="top.gif" class="header" /></a> <a href="drm_2.html" class="header"><img alt="content" src="content.gif" class="header" /></a> <a href="drm_127.html" class="header"><img alt="index" src="index.gif" class="header" /></a></p>
<p class="footer">Copyright Apple Computer, Inc. 1996. Apple&#174; and the Apple logo are registered trademarks of Apple Computer, Inc. Used with permission. All Rights Reserved.</p>
<p class="footer">Generated with <a href="http://www.harlequin.com/webmaker" class="footer">Harlequin WebMaker&#174;</a></p>

</div>
</body>
</html>
