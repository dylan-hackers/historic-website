<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US">
  <head>
    
    <!-- Relative Navigation -->
    
    <link rel="up" href="Syntax" />
    <link rel="prev" href="Definitions" />
    <link rel="next" href="Expressions" />
    
    <!-- Absolute Navigation -->
    
    <link rel="top" href="Title" />
    <link rel="start first" href="." />
    <link rel="copyright" href="Copyrights" />
    <link rel="contents" href="Contents" />
    <link rel="glossary" href="Glossary" />
    <link rel="index" href="Index" />
    <link rel="last author" href="Colophon" />
    
    <!-- Chapters -->
    
    <link rel="chapter" title="About This Book" href="Preface" />
    <link rel="chapter" title="1 Introduction" href="Introduction" />
    <link rel="chapter" title="2 Syntax" href="Syntax" />
    <link rel="chapter" title="3 Program Structure" href="Program_Structure" />
    <link rel="chapter" title="4 Program Control" href="Program_Control" />
    <link rel="chapter" title="5 Types and Classes" href="Types_and_Classes" />
    <link rel="chapter" title="6 Functions" href="Functions" />
    <link rel="chapter" title="7 Conditions" href="Conditions" />
    <link rel="chapter" title="8 Collections" href="Collections" />
    <link rel="chapter" title="9 Sealing" href="Sealing" />
    <link rel="chapter" title="10 Macros" href="Macros" />
    <link rel="chapter" title="11 The Built-In Classes" href="Built-In_Classes" />
    <link rel="chapter" title="12 The Built-In Functions" href="Built-In_Functions" />
    <link rel="chapter" title="13 Other Built-In Objects" href="Other_Built-In_Objects" />
    <link rel="chapter" title="14 The Built-In Macros and Special Definitions" href="Built-In_Macros_and_Special_Definitions" />
    
    <!-- Appendices -->
    
    <link rel="appendix" title="A BNF" href="BNF" />
    <link rel="appendix" title="B Exported Names" href="Exported_Names" />
    
    <!-- Stylesheet -->
    
    <link rel="stylesheet" href="drm.css" type="text/css" />

    <title>Local Declarations &mdash; 2. Syntax &mdash; The DRM</title>
  </head>
  <body>

    <div id="header">
      <div id="navigation-header">
	<p id="book-title">The Dylan Reference Manual</p>
	<p id="basic-navigation"><a class="previous" title="Go to previous page" href="Definitions"><img alt="Previous" src="images/prev.gif" /></a> <a class="next" title="Go to next page" href="Expressions"><img alt="Next" src="images/next.gif" /></a> <a class="up" title="Go to start of chapter" href="Syntax"><img alt="Up" src="images/up.gif" /></a> <a class="start" title="Go to start of book" href="Title"><img alt="Top" src="images/top.gif" /></a> <a class="contents" title="Go to table of contents" href="Contents"><img alt="Contents" src="images/content.gif" /></a> <a class="index" title="Go to index" href="Index"><img alt="index" src="images/index.gif" /></a></p>
      </div>

      <div id="section-header">
	<p id="section-prefix">Chapter 2</p>
	<p id="section-name">Syntax</p>
      </div>

      <div id="navigation-TOC">
	<ul class="front-matter">
	  <li><a href="Title">Start</a></li>
	  <li><a href="Contents">Contents</a></li>
	  <li><a href="Preface">About This Book</a></li>
	</ul>
	<ol class="chapters">
	  <li><a href="Introduction">Introduction</a></li>
	  <li><a href="Syntax">Syntax</a>
	    <ul>
	      <li><a href="Syntax_Overview">Overview</a></li>
	      <li><a href="Libraries_and_Modules">Libraries and Modules</a></li>
	      <li><a href="Bindings">Bindings</a></li>
	      <li><a href="Macros_Syntax">Macros</a></li>
	      <li><a href="Bodies">Bodies</a></li>
	      <li><a href="Definitions">Definitions</a></li>
	      <li id="current">Local Declarations</li>
	      <li><a href="Expressions">Expressions</a></li>
	      <li><a href="Statements">Statements</a></li>
	      <li><a href="Parameter_Lists_Syntax">Parameter Lists</a></li>
	      <li><a href="Lexical_Syntax">Lexical Syntax</a></li>
	      <li><a href="Special_Treatment_of_Names">Special Treatment of Names</a></li>
	      <li><a href="Top-Level_Definitions">Top-Level Definitions</a></li>
	      <li><a href="Dylan_Interchange_Format">Dylan Interchange Format</a></li>
	      <li><a href="Naming_Conventions">Naming Conventions</a></li>
	    </ul>
	  </li>
	  <li><a href="Program_Structure">Program Structure</a></li>
	  <li><a href="Program_Control">Program Control</a></li>
	  <li><a href="Types_and_Classes">Types and Classes</a></li>
	  <li><a href="Functions">Functions</a></li>
	  <li><a href="Conditions">Conditions</a></li>
	  <li><a href="Collections">Collections</a></li>
	  <li><a href="Sealing">Sealing</a></li>
	  <li><a href="Macros">Macros</a></li>
	  <li><a href="Built-In_Classes">The Built-In Classes</a></li>
	  <li><a href="Built-In_Functions">The Built-In Functions</a></li>
	  <li><a href="Other_Built-In_Objects">Other Built-In Objects</a></li>
	  <li><a href="Built-In_Macros_and_Special_Definitions">The Built-In Macros and Special Definitions</a></li>
	</ol>
	<ol class="appendices">
	  <li><a href="BNF">BNF</a></li>
	  <li><a href="Exported_Names">Exported Names</a></li>
	</ol>
	<ul class="back-matter">
	  <li><a href="Glossary">Glossary</a></li>
	  <li><a href="Index">Index</a></li>
	  <li><a href="Colophon">Colophon</a></li>
	</ul>
	<ul class="errata">
	  <li><a href="Errata">Errata</a></li>
	</ul>
      </div>

      <hr />

    </div>

    <div id="content">
      <a name="HEADING16-0"></a>
      <a name="UID-Syntax-1450"></a>
      <h1 class="section-title">Local Declarations</h1>
      <p>A <dfn id="MARKER-2-238">local declaration</dfn> is a construct that
      establishes <a name="MARKER-2-239"></a>local bindings or <a name="MARKER-2-240"></a>condition
      handlers whose scope is the remainder of the body following the local declaration.</p>
      <p>Unlike module bindings, local bindings are established during program execution, each time
      the local declaration is executed. They persist for as long as code in their scope is
      active. Local bindings persist after the body containing them returns if they are referenced
      by a method created inside the body and a reference to the method escapes from the body, so
      that it could be called after the body returns. Unlike module bindings, local bindings are
      always variable. However, since a local binding has a limited scope, if there is no assignment
      within that scope, the local binding is effectively constant.</p>
      <p>A local binding shadows any module binding with the same name and any surrounding local
      binding with the same name. The innermost binding is the one referenced.</p>
      <p><a name="MARKER-2-241"></a>Macros cannot be shadowed. Hence, the name of a local binding
      cannot be the name of a macro.</p>
      <p>There are three kinds of local declaration: local value bindings (<code>let</code>), local
      method bindings (<code>local</code>), and condition handler establishment (<code>let
      handler</code>).</p>
      <p>The <dfn id="MARKER-2-242">local value bindings</dfn> construct, <code>let</code>, executes
      an expression and locally binds names to the values returned by that expression.</p>
      <p>The <dfn id="MARKER-2-243">local method bindings</dfn> construct, <code>local</code>,
      locally binds names to bare methods. These bindings are visible in the remainder of the body
      and also inside the methods, permitting recursion.</p>
      <p>The <dfn id="MARKER-2-244">condition handler establishing</dfn> construct, <code>let
      handler</code>, establishes a function to be called if a condition of a given type is signaled
      during the execution of the remainder of the body or anything the body calls. The handler is
      disestablished as soon as the body returns. Unlike the other two kinds of local
      declaration, <code>let handler</code> does not establish any bindings.</p>

    </div>

    <div id="footer">

      <hr class="footer" />
      <address class="footer">The Dylan Reference Manual - 7 Apr 1998</address>
      <p class="footer"><a class="previous" title="Go to previous page" href="Definitions"><img alt="Previous" src="images/prev.gif" /></a> <a class="next" title="Go to next page" href="Expressions"><img alt="Next" src="images/next.gif" /></a> <a class="up" title="Go to start of chapter" href="Syntax"><img alt="Up" src="images/up.gif" /></a> <a class="start" title="Go to start of book" href="Title"><img alt="Top" src="images/top.gif" /></a> <a class="contents" title="Go to table of contents" href="Contents"><img alt="Contents" src="images/content.gif" /></a> <a class="index" title="Go to index" href="Index"><img alt="index" src="images/index.gif" /></a></p>
      <p class="footer">Copyright Apple Computer, Inc. 1996. Apple&reg; and the Apple logo are
      registered trademarks of Apple Computer, Inc. Used with permission. All Rights Reserved.</p>
      <p class="footer">Originally generated
      with <a href="http://www.harlequin.com/webmaker">Harlequin WebMaker&reg;</a>, subsequently
      revised.</p>

    </div>
  </body>
</html>
