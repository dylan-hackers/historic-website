<?xml version="1.0"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  
  <!-- Relative Navigation -->
  
  <link rel="up" href="drm_59.html" />
  <link rel="prev" href="drm_59.html" />
  <link rel="next" href="drm_61.html" />
  
  <!-- Absolute Navigation -->
  
  <link rel="top" href="drm_1.html" />
  <link rel="start first" href="index.html" />
  <link rel="contents" href="drm_2.html" />
  <link rel="copyright" href="drm_3.html" />
  <link rel="glossary" href="drm_126.html" />
  <link rel="index" href="drm_127.html" />
  <link rel="last author" href="drm_128.html" />
  
  <!-- Chapters -->
  
  <link rel="chapter" title="About This Book" href="drm_4.html" />
  <link rel="chapter" title="1 Introduction" href="drm_5.html" />
  <link rel="chapter" title="2 Syntax" href="drm_9.html" />
  <link rel="chapter" title="3 Program Structure" href="drm_25.html" />
  <link rel="chapter" title="4 Program Control" href="drm_28.html" />
  <link rel="chapter" title="5 Types and Classes" href="drm_38.html" />
  <link rel="chapter" title="6 Functions" href="drm_47.html" />
  <link rel="chapter" title="7 Conditions" href="drm_52.html" />
  <link rel="chapter" title="8 Collections" href="drm_59.html" />
  <link rel="chapter" title="9 Sealing" href="drm_70.html" />
  <link rel="chapter" title="10 Macros" href="drm_76.html" />
  <link rel="chapter" title="11 The Built-In Classes" href="drm_87.html" />
  <link rel="chapter" title="12 The Built-In Functions" href="drm_96.html" />
  <link rel="chapter" title="13 Other Built-In Objects" href="drm_108.html" />
  <link rel="chapter" title="14 The Built-In Macros and Special Definitions" href="drm_110.html" />
  
  <!-- Appendices -->
  
  <link rel="appendix" title="A BNF" href="drm_116.html" />
  <link rel="appendix" title="B Exported Names" href="drm_119.html" />
  
  <!-- Stylesheet -->
  
  <link title="main style sheet" rel="stylesheet" href="drm.css" type="text/css" />

  <title>The Dylan Reference Manual: 8 Collections</title>
</head>
<body>

<div class="wm-div-body">
<a name="HEADING60"></a>

<div class="wm-div-headers">
<p id="navigation"><a href="drm_59.html"><img alt="prev" src="prev.gif" title="Go to previous page" /></a> <a href="drm_61.html"><img alt="next" src="next.gif" title="Go to next page" /></a> <a href="drm_59.html"><img alt="up" src="up.gif" /></a> <a href="drm_1.html"><img alt="top" src="top.gif" /></a> <a href="drm_2.html"><img alt="Contents" src="content.gif" /></a> <a href="drm_127.html"><img alt="index" src="index.gif" /></a></p>

<div id="section-header">
  <p id="section-prefix">Chapter 8</p>
  <p id="section-name">Collections</p>
</div>

<div class="wm-div-toc">
  <ul class="page-toc">
    <li><a href="drm_60.html#HEADING60-4">The Iteration Protocol</a></li>
  </ul>
</div>

<hr />

</div>

<a name="HEADING60-0"></a>
<a name="UID-Collections-2757"></a>
<h1 class="H1.Heading1">Overview</h1>
<p class="T0.Text0"><a name="MARKER-2-983"></a>Collections are aggregate <a name="MARKER-2-984"></a>data structures that map from <strong class="Bold T0.Text0"><a name="MARKER-2-985"></a><dfn>keys</dfn></strong> to <strong class="Bold T0.Text0"><a name="MARKER-2-986"></a><dfn>elements</dfn></strong>. All collections are instances of the class <code><a name="MARKER-2-987"></a>&lt;collection&gt;</code>.</p>
<p class="T1.Text1"><code>&lt;collection&gt;</code> has two covering subclasses:  <code><a name="MARKER-2-988"></a>&lt;sequence&gt;</code> and <a name="MARKER-2-989"></a><code>&lt;explicit-key-collection&gt;</code>. Every concrete subclass of <code>&lt;collection&gt;</code> must also be a subclass of <code>&lt;sequence&gt;</code> or <code>&lt;explicit-key-collection&gt;</code>. <strong class="Bold T1.Text1"><a name="MARKER-2-990"></a><dfn>Sequences</dfn></strong> use successive non-negative integers as keys;  <strong class="Bold T1.Text1"><a name="MARKER-2-991"></a><dfn>explicit key collections</dfn></strong> may use any object as a key. Both of these classes have predefined subclasses and may be additionally subclassed by programmers. See <a href="drm_93.html#MARKER-9-1398" class="T1.Text1">"Collections" on page 206</a> for a complete description of these classes.</p>
<p class="T1.Text1">A large number of functions are available on collections, including functions for iteration, mapping, random access of elements, sorting, filtering, etc. See <a href="drm_102.html#MARKER-9-1696" class="T1.Text1">"Collection Operations" on page 294</a> for a complete description of these functions.</p>
<a name="HEADING60-4"></a>
<a name="UID-Collections-6197"></a>
<h2 class="H2.Heading2">The Iteration Protocol</h2>
<p class="T1.Text1"><a name="MARKER-2-992"></a>All collections implement an <strong class="T1.Text1">iteration protocol </strong>that allows iteration to be specified abstractly. Many higher level operations on collections can be defined in terms of only the iteration protocol. For many programs these higher level operations are sufficient; they will not need to use the iteration protocol directly. The iteration protocol is used by programs defining new collection types, and for certain types of iteration that cannot be handled by the built-in higher level operations.</p>
<p class="T1.Text1">The iteration protocol centers on the notion of a "<a name="MARKER-2-993"></a>state" object for an iteration. Each collection class chooses its own most appropriate representation for an iteration state, and only the functions of the iteration protocol are affected by this choice.</p>
<p class="T1.Text1"><a name="MARKER-2-994"></a>Use of the iteration protocol is based on the assumption that the collection over which iteration occurs remains static for the duration of the iteration. That is, arbitrary changes to a mutable collection while an iteration is in progress may cause the iteration to produce unpredictable results.</p>
<p class="T0.Text0">With notable exceptions, two or more iterations over the same collection are not guaranteed to produce the same values in the same order, even if the collection is unaltered. For details, see <a href="drm_62.html#MARKER-9-1001" class="T0.Text0">"Iteration Stability and Natural Order"</a> as follows.</p>
<p class="T1.Text1">The built-in collection functions are implemented in terms of the iteration protocol. When defining a new collection class, a programmer need only define the iteration protocol for the class. Once this is done, instances of the class can be used with all the built-in collection functions. Of course, in some cases it will be more efficient to define methods on these functions optimized for the new class, rather than relying on the default implementation based on the iteration protocol.<a name="MARKER-2-995"></a></p>

</div>

<div class="wm-div-footers">

<hr class="footer" />
<address class="footer">The Dylan Reference Manual - 7 Apr 1998</address>
<p class="footer"><a href="drm_59.html"><img alt="prev" src="prev.gif" title="Go to previous page" /></a> <a href="drm_61.html"><img alt="next" src="next.gif" title="Go to next page" /></a> <a href="drm_59.html"><img alt="up" src="up.gif" /></a> <a href="drm_1.html"><img alt="top" src="top.gif" /></a> <a href="drm_2.html"><img alt="Contents" src="content.gif" /></a> <a href="drm_127.html"><img alt="index" src="index.gif" /></a></p>
<p class="footer">Copyright Apple Computer, Inc. 1996. Apple&#174; and the Apple logo are registered trademarks of Apple Computer, Inc. Used with permission. All Rights Reserved.</p>
<p class="footer">Generated with <a href="http://www.harlequin.com/webmaker" class="footer">Harlequin WebMaker&#174;</a></p>

</div>
</body>
</html>
