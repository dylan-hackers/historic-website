<?xml version="1.0"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<link title="main style sheet" rel="stylesheet" href="dpg.css" type="text/css" />
		<link rel="top" href="db_1.html" />
		<link rel="up" href="db_174.html" />
		<link rel="prev" href="db_179.html" />
		<link rel="next" href="db_181.html" />
		<title>Dylan Programming: 12.2.6   Return-value congruence</title>
	</head>
<body>

<div class="navigation">
	<p><a href="db_181.html"><img src="next.gif" alt="next" /></a> <a href="db_179.html"><img src="prev.gif" alt="previous" /></a> <a href="db_1.html"><img src="top.gif" alt="top" /></a> <a href="db_2.html"><img src="content.gif" alt="contents" /></a> <a href="db_349.html"><img src="index.gif" alt="index" /></a></p>
</div>

<div class="content" id="heading180-0">
<h1>12.2.6   Return-value congruence</h1>
<p>Like parameter lists, the value declarations of a generic function and that function's methods must be congruent<a name="marker-2-534"></a>. The rules depend on whether the generic function returns a fixed or a variable number of values:</p>
<ul>
<li><p>If the generic function returns a fixed number of values -- that is, it does not have <code>#re<a name="marker-2-535"></a>st</code> in its value declaration -- then its methods cannot have <code>#rest</code>, and must return the same number of required values as the generic function. For each method, the type of each returned value must be a subtype of the same returned value in the generic function.</p></li>
<li><p>If the generic function returns a variable number of values -- that is, it has <code>#rest</code> in its value declaration -- then its methods can (but are not required to) have <code>#rest</code>, and must return at least as many required values as the generic function. For each method, the type of each returned value must be a subtype of the same returned value in the generic function. If the method has more required returned values than the generic function, their types must all be subtypes of the generic function's <code>#rest</code> value.</p></li>
</ul>
<p>The following value declarations are congruent, because the generic function implicitly returns any number of values of any type:</p>
<pre>
define generic g (arg1 :: &lt;complex&gt;, arg2 :: &lt;integer&gt;);
define method g
    (arg1 :: &lt;real&gt;, arg2 :: &lt;integer&gt;) =&gt; (result :: &lt;real&gt;)
  ...
end method g;
</pre>
<p>The following value declarations are not congruent, because the type of the method's returned value is not a subtype of the generic function's returned value:</p>
<pre>
define generic g
    (arg1 :: &lt;complex&gt;, arg2 :: &lt;integer&gt;) =&gt; (result :: &lt;integer&gt;);
define method g
    (arg1 :: &lt;real&gt;, arg2 :: &lt;integer&gt;) =&gt; (result :: &lt;real&gt;)
  ...
end method g;
</pre>

</div>

<div class="toc">

<!-- TOC -->

</div>

<div class="footer">
<address>Dylan Programming - 9 Apr 1999</address>
<p><a href="db_181.html"><img src="next.gif" alt="next" /></a> <a href="db_179.html"><img src="prev.gif" alt="previous" /></a> <a href="db_1.html"><img src="top.gif" alt="top" /></a> <a href="db_2.html"><img src="content.gif" alt="contents" /></a> <a href="db_349.html"><img src="index.gif" alt="index" /></a></p>
<p>N Feinberg/S E Keene/R Mathews/P Tucker Withington, DYLAN PROGRAMMING, (c) 1997 Harlequin Inc. Reproduced by permission of Addison-Wesley Longman Publishing Company, Inc.  All rights reserved. No further copying, downloading or transmitting of this material is allowed without the prior written permission of the publisher.</p>

</div>
</body>
</html>
