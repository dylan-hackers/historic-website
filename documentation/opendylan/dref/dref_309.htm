<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<!-- Generated by Harlequin WebMaker 3.0.2 ( 8-May-1977) -->
<HEAD>
<LINK REL=TOP HREF="dref_1.htm">
<LINK REL=UP HREF="dref_287.htm">
<LINK REL=PREV HREF="dref_308.htm">
<LINK REL=NEXT HREF="dref_310.htm">
<TITLE> choose-file</TITLE>
<META NAME=GENERATOR CONTENT="Harlequin WebMaker 3.0.2 ( 8-May-1977)">
</HEAD>
<BODY BGCOLOR="#FEFEF2" TEXT="#000000" LINK="#0000FF" VLINK="#800080" ALINK="#FF0000">

<DIV>
<A NAME=HEADING309></A>

<DIV>
<P><A HREF="dref_310.htm"><IMG ALIGN=BOTTOM SRC=next.gif ALT=Next BORDER=0></A> <A HREF="dref_308.htm"><IMG ALIGN=BOTTOM SRC=prev.gif ALT=Previous BORDER=0></A> <A HREF="dref_287.htm"><IMG ALIGN=BOTTOM SRC=up.gif ALT=Up BORDER=0></A> <A HREF="dref_1.htm"><IMG ALIGN=BOTTOM SRC=top.gif ALT=Top BORDER=0></A> <A HREF="dref_2.htm"><IMG ALIGN=BOTTOM SRC=content.gif ALT=Contents BORDER=0></A> <A HREF="dref_991.htm"><IMG ALIGN=BOTTOM SRC=index.gif ALT=Index BORDER=0></A></P>
<P>5.3   DUIM-Sheets Module</P>

</DIV>
<A NAME=HEADING309-0></A>
<H1> <A NAME=MARKER-2-1925></A><A NAME=MARKER-9-1926></A>choose-file</H1>
<P><I>Generic function</I></P>
<H3>Summary</H3>
<P> Displays the built-in file dialog for the target platform.</P>
<H3>Signature</H3>
<dl><dd><pre>choose-file #key <I>frame owner title documentation exit-boxes name default</I> =&gt; <I>locator</I></pre></dl>
<H3>Arguments</H3>
<DL>
<P> </P><DT><I>frame</I><DD> An instance of type <A HREF="dref_908.htm#MARKER-9-6948"><CODE>&lt;frame&gt;</CODE></A>. Default value: <CODE>#f</CODE>.
<P> </P><DT><I>owner</I><DD> An instance of type <A HREF="dref_473.htm#MARKER-9-2638"><CODE>&lt;sheet&gt;</CODE></A>. Default value: <CODE>#f</CODE>.
<P> </P><DT><I>title</I><DD> An instance of type <CODE>&lt;string&gt;</CODE>.
<P> </P><DT><I>documentation</I><DD> An instance of type <CODE>&lt;string&gt;</CODE>.
<P> </P><DT><I>direction</I><DD> An instance of type <CODE>one-of(#&quot;input&quot;, #&quot;output&quot;)</CODE>. Default value: <CODE>#&quot;input&quot;</CODE>.
<P> </P><DT><I>filters</I><DD> An instance of type <CODE>limited(&lt;sequence&gt;, of: &lt;sequence&gt;)</CODE>.
<P> </P><DT><I>exit-boxes</I><DD> An instance of type <CODE>&lt;object&gt;<A NAME=MARKER-10-1927></A></CODE>.
<P> </P><DT><I>name</I><DD> An instance of type <CODE>&lt;object&gt;<A NAME=MARKER-10-1928></A></CODE>.
<P> </P><DT><I>default</I><DD> An instance of type <CODE>&lt;string&gt;</CODE>.<A NAME=MARKER-10-1929></A>
</DL>
<H3>Values</H3>
<DL>
<P> </P><DT><I>locator</I><DD> An instance of type <CODE>&lt;string&gt;</CODE>.
</DL>
<H3><A NAME=MARKER-10-1930></A>Library</H3>
<dl><dd><pre>duim-sheets</pre></dl>
<H3>Module</H3>
<dl><dd><pre>duim-sheets</pre></dl>
<H3>Description</H3>
<P> Displays the built-in file dialog for the target platform, which allows the user to choose a file from any of the local or networked drives currently connected to the computer. The function returns the name of the file chosen by the user.</P>
<TABLE BORDER=1><CAPTION><P>Figure 5.2   Typical appearance of a choose-file dialog</P>
</CAPTION><TR VALIGN=TOP><TD><P> <A NAME=MARKER-10-1808></A><IMG ALIGN=TOP SRC=dr30ima3.gif></P>
</TD></TR></TABLE><P> If the <I>frame</I> argument is specified, the top-level sheet of <I>frame</I> becomes the owner of the dialog. </P>
<P> Alternatively, you can specify the owner directly using the <I>owner</I> argument, which takes an instance of <CODE>&lt;sheet&gt;</CODE> as its value. </P>
<P>By default, both <I>frame</I> and <I>owner</I> are <CODE>#f</CODE>, meaning the dialog has no owner. You should not specify both of these values.</P>
<P> If you wish, you can specify a <I>title</I> for the dialog; this is displayed in the title bar of the frame containing the dialog.</P>
<P> <A NAME=MARKER-10-1931></A>The <I>direction</I> argument is used to specify whether the file chosen is being opened (that is, information in the file is loaded into the application) or saved to (that is, information in the application is being saved to a file on disk).</P>
<P> The <I>filters</I> argument lets you specify the file filters that should be offered to the user in the dialog. These filters are typically available in a drop-down list box, and let the user display only certain types of file, such as text files. Each filter is described as a sequence of strings:</P>
<UL>
<LI>The first string in the sequence is a description of the files that are displayed when this filter is chosen.
<LI>Each subsequent string is a regular expression that describes which files to display in the dialog.
</UL>
<P> For example, to specify a filter that lets the user choose to display either text files, HTML files, or Dylan source files, the following sequence should be passed to the filters argument:</P>
<DL><DD><PRE>#[#[&quot;Text files&quot;, &quot;*.txt&quot;, &quot;*.text&quot;], 
  #[&quot;HTML files&quot;, &quot;*.htm&quot;, &quot;*.html&quot;], 
  #[&quot;Dylan files&quot;, &quot;*.dylan&quot;]</PRE></DL>
<P> Here, text files are defined as any file with a filename suffix of <CODE>.txt</CODE> or <CODE>.text</CODE>, HTML files have filenames with a suffix of either <CODE>.htm</CODE> or <CODE>.html</CODE>, and Dylan files have filenames with a suffix of <CODE>.dylan</CODE>.</P>
<P> <A NAME=MARKER-10-1932></A>The <I>default</I> argument is used to specify a default filename to pass to the dialog. This is a convenient way to suggest a file in which some information may be saved, or a file to be loaded into an application.</P>
<H3><A NAME=MARKER-10-1933></A>Example</H3>
<P> <A NAME=MARKER-10-1934></A>The following example illustrates how you can define a class of frame that contains buttons to display both Open and Save As dialogs, using the pre-built dialog classes for your target environment.</P>
<DL><DD><PRE>define frame &lt;open-save-dialog-frame&gt; (&lt;simple-frame&gt;)
  pane open-file-button (frame)
    make(&lt;menu-button&gt;,
         label: &quot;Open...&quot;,
         documentation: 
          &quot;Example of standard file 'Open' dialog&quot;,
         activate-callback: 
          method (button)
          let file = choose-file(direction: #&quot;input&quot;,
                                 owner: frame);
            if (file) frame-status-message(frame)
             := format-to-string
                  (&quot;Opened file %s&quot;, file);
            end
          end);
  pane save-file-button (frame)
    make(&lt;menu-button&gt;,
         label: &quot;Save As...&quot;,
         documentation: 
          &quot;Example of standard file 'Save As' dialog&quot;,
         activate-callback: 
          method (button)
          let file = choose-file(direction: #&quot;output&quot;,
                                 owner: frame);
            if (file) frame-status-message(frame)
             := format-to-string
                  (&quot;Saved file as %s&quot;, file);
            end
          end);
end frame &lt;open-save-dialog-frame&gt;;</PRE></DL>
<H3>See also</H3>
<P> <A HREF="dref_307.htm#MARKER-9-1909"><CODE>choose-color</CODE>,  page 220</A></P>
<P> <A HREF="dref_308.htm#MARKER-9-1917"><CODE>choose-directory</CODE>,  page 222</A></P>
<P> <A HREF="dref_433.htm#MARKER-9-2468"><CODE>notify-user</CODE>,  page 315</A></P>

</DIV>

<DIV>

<DIV>

<!-- TOC -->

</DIV>

<HR>
<ADDRESS>Functional Developer Library Reference: DUIM - 3 Dec 1998</ADDRESS>
<P><A HREF="dref_310.htm"><IMG ALIGN=BOTTOM SRC=next.gif ALT=Next BORDER=0></A> <A HREF="dref_308.htm"><IMG ALIGN=BOTTOM SRC=prev.gif ALT=Previous BORDER=0></A> <A HREF="dref_287.htm"><IMG ALIGN=BOTTOM SRC=up.gif ALT=Up BORDER=0></A> <A HREF="dref_1.htm"><IMG ALIGN=BOTTOM SRC=top.gif ALT=Top BORDER=0></A> <A HREF="dref_2.htm"><IMG ALIGN=BOTTOM SRC=content.gif ALT=Contents BORDER=0></A> <A HREF="dref_991.htm"><IMG ALIGN=BOTTOM SRC=index.gif ALT=Index BORDER=0></A></P>

</DIV>
</BODY>
</HTML>
