<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<!-- Generated by Harlequin WebMaker 3.0.2 ( 8-May-1997) -->
<HEAD>
<LINK REL=TOP HREF="intero_1.htm">
<LINK REL=UP HREF="intero_4.htm">
<LINK REL=PREV HREF="inter_11.htm">
<LINK REL=NEXT HREF="inter_13.htm">
<TITLE>1.5   Designator classes</TITLE>
<META NAME=GENERATOR CONTENT="Harlequin WebMaker 3.0.2 ( 8-May-1997)">
</HEAD>
<BODY BGCOLOR="#FEFEF2" TEXT="#000000" LINK="#0000FF" VLINK="#800080" ALINK="#FF0000">

<DIV>
<A NAME=HEADING12></A>

<DIV>
<P><A HREF="inter_13.htm"><IMG ALIGN=BOTTOM SRC=next.gif ALT=Next BORDER=0></A> <A HREF="inter_11.htm"><IMG ALIGN=BOTTOM SRC=prev.gif ALT=Previous BORDER=0></A> <A HREF="intero_4.htm"><IMG ALIGN=BOTTOM SRC=up.gif ALT=Up BORDER=0></A> <A HREF="intero_1.htm"><IMG ALIGN=BOTTOM SRC=top.gif ALT=Top BORDER=0></A> <A HREF="intero_2.htm"><IMG ALIGN=BOTTOM SRC=content.gif ALT=Contents BORDER=0></A> <A HREF="inte_152.htm"><IMG ALIGN=BOTTOM SRC=index.gif ALT=Index BORDER=0></A></P>
<P>1 The C-FFI Library</P>

</DIV>
<A NAME=HEADING12-0></A>
<A NAME=UID-c-ffi-886650></A>
<H1>1.5   <A NAME=MARKER-2-239></A><A NAME=MARKER-2-240></A><A NAME=MARKER-2-241></A><A NAME=MARKER-9-242></A>Designator classes</H1>
<P>As <A HREF="intero_6.htm#MARKER-9-197">Section 1.2</A> explained, the C-FFI defines some Dylan classes to designate C types and to describe how they are passed to and from Dylan. These <I>designator classes</I> carry with them static information about the C type they designate. </P>
<P>The C-FFI library provides an initial set of designator classes corresponding to C's fundamental types, as well as macros for generating designator classes corresponding to C's pointer types and for extending the translation between C data and Dylan objects.</P>
<P>Designator classes that correspond to fundamental numeric types are not instantiable. When you pass a numeric value to Dylan from C, the C-FFI simply generates a Dylan number with the same value. Similarly, a Dylan number passed to C is converted to a C number of the appropriate type and value.</P>
<P>Each of the fundamental designator classes indicate a conversion to or from a unique Dylan class. The conversions that take place are described in detail in the documentation for each designator class. </P>
<P>The main reasons for this design are increased efficiency, simplified implementation, and added convenience when working with numeric values. The designator classes for the numeric types could have been made instantiable and placed beneath the appropriate number protocol classes in Dylan, but these extra representations in such a fundamental area could cause problems for Dylan compilers. In addition, to make these instantiable designator classes convenient to work with, the C-FFI would also have to define methods on the standard arithmetic and comparison operators. It is simpler to represent these fundamental types with existing Dylan objects.</P>
<P>However, the designator classes that correspond to pointer types <I>are</I> instantiable. When you pass a pointer from C to Dylan, the C-FFI constructs an instance of the appropriate designator class that contains the raw address. A wrapped pointer like this can be passed out to some C code that is expecting a compatible pointer -- the C-FFI extracts the raw address before handing it to C code. The documentation for the abstract class <CODE><A NAME=MARKER-2-243></A><A NAME=MARKER-2-244></A>&lt;C-pointer&gt;</CODE> describes the compatibility rules for pointer types.</P>
<P>This feature of pointer designator classes allows Dylan code to be typed to a specific kind of pointer. For example, you can define methods that specialize on different kinds of pointer on the same generic function.</P>

</DIV>

<DIV>

<DIV>

<!-- TOC --><DL>
<DL>
<DT><A REL=BELOW HREF="inter_13.htm#HEADING13-0"><B>1.5.1  </B> - Designator type properties</A>
<DD>
<DT><A REL=BELOW HREF="inter_14.htm#HEADING14-0"><B>1.5.2  </B> - Designator class basics </A>
<DD>
<DT><A REL=BELOW HREF="inter_15.htm#HEADING15-0"><B></B>&lt;C-value&gt;</A>
<DD>
<DT><A REL=BELOW HREF="inter_16.htm#HEADING16-0"><B></B>&lt;C-void&gt;</A>
<DD>
<DT><A REL=BELOW HREF="inter_17.htm#HEADING17-0"><B></B>size-of</A>
<DD>
<DT><A REL=BELOW HREF="inter_18.htm#HEADING18-0"><B></B>alignment-of </A>
<DD>
<DT><A REL=BELOW HREF="inter_19.htm#HEADING19-0"><B>1.5.3  </B> - Fundamental numeric type designator classes</A>
<DD>
<DT><A REL=BELOW HREF="inter_20.htm#HEADING20-0"><B></B>&lt;C-number&gt;</A>
<DD>
<DT><A REL=BELOW HREF="inter_21.htm#HEADING21-0"><B></B>&lt;C-float&gt;</A>
<DD>
<DT><A REL=BELOW HREF="inter_22.htm#HEADING22-0"><B></B>&lt;C-double&gt;</A>
<DD>
<DT><A REL=BELOW HREF="inter_23.htm#HEADING23-0"><B>1.5.4  </B> - Pointer designator classes and related functions</A>
<DD>
<DT><A REL=BELOW HREF="inter_24.htm#HEADING24-0"><B></B>&lt;C-pointer&gt;</A>
<DD>
<DT><A REL=BELOW HREF="inter_25.htm#HEADING25-0"><B></B>pointer-address</A>
<DD>
<DT><A REL=BELOW HREF="inter_26.htm#HEADING26-0"><B></B>pointer-cast</A>
<DD>
<DT><A REL=BELOW HREF="inter_27.htm#HEADING27-0"><B></B>null-pointer</A>
<DD>
<DT><A REL=BELOW HREF="inter_28.htm#HEADING28-0"><B></B>null-pointer?</A>
<DD>
<DT><A REL=BELOW HREF="inter_29.htm#HEADING29-0"><B></B>&lt;C-void*&gt;</A>
<DD>
<DT><A REL=BELOW HREF="inter_30.htm#HEADING30-0"><B></B>&lt;C-statically-typed-pointer&gt;</A>
<DD>
<DT><A REL=BELOW HREF="inter_31.htm#HEADING31-0"><B></B>define C-pointer-type</A>
<DD>
<DT><A REL=BELOW HREF="inter_32.htm#HEADING32-0"><B></B>referenced-type</A>
<DD>
<DT><A REL=BELOW HREF="inter_34.htm#HEADING34-0"><B></B>pointer-value</A>
<DD>
<DT><A REL=BELOW HREF="inter_35.htm#HEADING35-0"><B></B>pointer-value-setter</A>
<DD>
<DT><A REL=BELOW HREF="inter_36.htm#HEADING36-0"><B></B>pointer-value-address</A>
<DD>
<DT><A REL=BELOW HREF="inter_37.htm#HEADING37-0"><B></B>element</A>
<DD>
<DT><A REL=BELOW HREF="inter_38.htm#HEADING38-0"><B></B>element-setter</A>
<DD>
<DT><A REL=BELOW HREF="inter_39.htm#HEADING39-0"><B></B>=</A>
<DD>
<DT><A REL=BELOW HREF="inter_40.htm#HEADING40-0"><B></B>&lt;</A>
<DD>
<DT><A REL=BELOW HREF="inter_41.htm#HEADING41-0"><B></B>C-char-at</A>
<DD>
<DT><A REL=BELOW HREF="inter_42.htm#HEADING42-0"><B></B>C-char-at-setter</A>
<DD>
<DT><A REL=BELOW HREF="inter_43.htm#HEADING43-0"><B></B>C-signed-char-at</A>
<DD>
<DT><A REL=BELOW HREF="inter_44.htm#HEADING44-0"><B></B>C-signed-char-at-setter</A>
<DD>
<DT><A REL=BELOW HREF="inter_45.htm#HEADING45-0"><B></B>C-unsigned-char-at</A>
<DD>
<DT><A REL=BELOW HREF="inter_46.htm#HEADING46-0"><B></B>C-unsigned-char-at-setter</A>
<DD>
<DT><A REL=BELOW HREF="inter_47.htm#HEADING47-0"><B></B>C-unsigned-short-at</A>
<DD>
<DT><A REL=BELOW HREF="inter_48.htm#HEADING48-0"><B></B>C-unsigned-short-at-setter</A>
<DD>
<DT><A REL=BELOW HREF="inter_49.htm#HEADING49-0"><B></B>C-signed-short-at</A>
<DD>
<DT><A REL=BELOW HREF="inter_50.htm#HEADING50-0"><B></B>C-signed-short-at-setter</A>
<DD>
<DT><A REL=BELOW HREF="inter_51.htm#HEADING51-0"><B></B>C-short-at</A>
<DD>
<DT><A REL=BELOW HREF="inter_52.htm#HEADING52-0"><B></B>C-short-at-setter</A>
<DD>
<DT><A REL=BELOW HREF="inter_53.htm#HEADING53-0"><B></B>C-unsigned-long-at</A>
<DD>
<DT><A REL=BELOW HREF="inter_54.htm#HEADING54-0"><B></B>C-unsigned-long-at-setter</A>
<DD>
<DT><A REL=BELOW HREF="inter_55.htm#HEADING55-0"><B></B>C-signed-long-at</A>
<DD>
<DT><A REL=BELOW HREF="inter_56.htm#HEADING56-0"><B></B>C-signed-long-at-setter</A>
<DD>
<DT><A REL=BELOW HREF="inter_57.htm#HEADING57-0"><B></B>C-long-at</A>
<DD>
<DT><A REL=BELOW HREF="inter_58.htm#HEADING58-0"><B></B>C-long-at-setter</A>
<DD>
<DT><A REL=BELOW HREF="inter_59.htm#HEADING59-0"><B></B>C-unsigned-int-at</A>
<DD>
<DT><A REL=BELOW HREF="inter_60.htm#HEADING60-0"><B></B>C-unsigned-int-at-setter</A>
<DD>
<DT><A REL=BELOW HREF="inter_61.htm#HEADING61-0"><B></B>C-signed-int-at</A>
<DD>
<DT><A REL=BELOW HREF="inter_62.htm#HEADING62-0"><B></B>C-signed-int-at-setter</A>
<DD>
<DT><A REL=BELOW HREF="inter_63.htm#HEADING63-0"><B></B>C-int-at</A>
<DD>
<DT><A REL=BELOW HREF="inter_64.htm#HEADING64-0"><B></B>C-int-at-setter</A>
<DD>
<DT><A REL=BELOW HREF="inter_65.htm#HEADING65-0"><B></B>C-double-at</A>
<DD>
<DT><A REL=BELOW HREF="inter_66.htm#HEADING66-0"><B></B>C-double-at-setter</A>
<DD>
<DT><A REL=BELOW HREF="inter_67.htm#HEADING67-0"><B></B>C-float-at</A>
<DD>
<DT><A REL=BELOW HREF="inter_68.htm#HEADING68-0"><B></B>C-float-at-setter</A>
<DD>
<DT><A REL=BELOW HREF="inter_69.htm#HEADING69-0"><B></B>C-pointer-at</A>
<DD>
<DT><A REL=BELOW HREF="inter_70.htm#HEADING70-0"><B></B>C-pointer-at-setter</A>
<DD>
<DT><A REL=BELOW HREF="inter_71.htm#HEADING71-0"><B>1.5.5  </B> - Structure types</A>
<DD>
<DT><A REL=BELOW HREF="inter_72.htm#HEADING72-0"><B></B>&lt;C-struct&gt;</A>
<DD>
<DT><A REL=BELOW HREF="inter_73.htm#HEADING73-0"><B>1.5.6  </B> - Union types</A>
<DD>
<DT><A REL=BELOW HREF="inter_74.htm#HEADING74-0"><B></B>&lt;C-union&gt;</A>
<DD>
<DT><A REL=BELOW HREF="inter_75.htm#HEADING75-0"><B>1.5.7  </B> - Notes on C type macros</A>
<DD>
</DL>
</DL>


</DIV>

<HR>
<ADDRESS>C FFI and Win 32 Reference - 31 MAR 2000</ADDRESS>
<P><A HREF="inter_13.htm"><IMG ALIGN=BOTTOM SRC=next.gif ALT=Next BORDER=0></A> <A HREF="inter_11.htm"><IMG ALIGN=BOTTOM SRC=prev.gif ALT=Previous BORDER=0></A> <A HREF="intero_4.htm"><IMG ALIGN=BOTTOM SRC=up.gif ALT=Up BORDER=0></A> <A HREF="intero_1.htm"><IMG ALIGN=BOTTOM SRC=top.gif ALT=Top BORDER=0></A> <A HREF="intero_2.htm"><IMG ALIGN=BOTTOM SRC=content.gif ALT=Contents BORDER=0></A> <A HREF="inte_152.htm"><IMG ALIGN=BOTTOM SRC=index.gif ALT=Index BORDER=0></A></P>

</DIV>
</BODY>
</HTML>
