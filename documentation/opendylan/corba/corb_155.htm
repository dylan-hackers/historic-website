<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<!-- Generated by Harlequin WebMaker 3.0.2 ( 8-May-1997) -->
<HEAD>
<LINK REL=TOP HREF="corba_1.htm">
<LINK REL=UP HREF="corb_151.htm">
<LINK REL=PREV HREF="corb_154.htm">
<LINK REL=NEXT HREF="corb_156.htm">
<TITLE>A.4.8.4   Fixed-point decimals</TITLE>
<META NAME=GENERATOR CONTENT="Harlequin WebMaker 3.0.2 ( 8-May-1997)">
</HEAD>
<BODY BGCOLOR="#FEFEF2" TEXT="#000000" LINK="#0000FF" VLINK="#800080" ALINK="#FF0000">

<DIV>
<A NAME=HEADING155></A>

<DIV>
<P><A HREF="corb_156.htm"><IMG ALIGN=BOTTOM SRC=next.gif ALT=Next BORDER=0></A> <A HREF="corb_154.htm"><IMG ALIGN=BOTTOM SRC=prev.gif ALT=Previous BORDER=0></A> <A HREF="corb_151.htm"><IMG ALIGN=BOTTOM SRC=up.gif ALT=Up BORDER=0></A> <A HREF="corba_1.htm"><IMG ALIGN=BOTTOM SRC=top.gif ALT=Top BORDER=0></A> <A HREF="corba_2.htm"><IMG ALIGN=BOTTOM SRC=content.gif ALT=Contents BORDER=0></A> <A HREF="corb_206.htm"><IMG ALIGN=BOTTOM SRC=index.gif ALT=Index BORDER=0></A></P>
<P>A.4.8   Mapping for basic types</P>

</DIV>
<A NAME=HEADING155-0></A>
<H1>A.4.8.4   Fixed-point decimals</H1>
<P><B>Background</B></P>
<P>IDL fixed-point decimals are defined as follows:</P>
<DL>
<DT><DD>The <CODE>fixed</CODE> data type represents a fixed-point decimal number of up to 31 significant digits. The scale factor is normally a non-negative integer less than or equal to the total number of digits (note that constants with effectively negative scale, such as 10000, are always permitted.). However, some languages and environments may be able to accommodate types that have a negative scale or scale greater then than the number of digits.
</DL>
<P>Dylan has no defined fixed-point decimal type, but does have a rational type.</P>
<P><B>Specification</B></P>
<P>The IDL <CODE>fixed</CODE> type shall be mapped to the Dylan class <CODE>CORBA/&lt;fixed&gt;</CODE>, which shall be a subtype of the Dylan type <CODE>&lt;rational&gt;</CODE>.</P>
<P>Subtypes of the IDL <CODE>fixed</CODE> type of the form <CODE>fixed&lt;<I>d,s&gt;</I></CODE>, where <I>d</I> is the number of digits and <I>s</I> is the scale, shall be mapped to Dylan types of the form </P>
<PRE>
limited(CORBA/&lt;fixed&gt;, digits: <I>d</I>, scale: <I>s</I>)
<P></P>
</PRE>
<P>The Dylan language operators and functions on rationals shall have methods defined on instances of <CODE>CORBA/&lt;fixed&gt;</CODE>.</P>
<P>In addition, instances of <CODE>CORBA/&lt;fixed&gt;</CODE> shall support the following functions:</P>
<PRE>
CORBA/Fixed/digits(x :: CORBA/&lt;Fixed&gt;)
  =&gt; (digits :: CORBA/&lt;unsigned-short&gt;)
<P></P>
CORBA/Fixed/scale(x :: CORBA/&lt;Fixed&gt;)
  =&gt; (scale :: CORBA/&lt;short&gt;)
<P></P>
as(class == CORBA/&lt;long-double&gt;, x :: CORBA/&lt;Fixed&gt;)
  =&gt; (value :: CORBA/&lt;long-double&gt;)
<P></P>
as(class :: subclass(CORBA/&lt;Fixed&gt;),
                     x :: CORBA/&lt;Fixed&gt;)
  =&gt; (fixed :: CORBA/&lt;Fixed&gt;)
<P></P>
as(class :: subclass(CORBA/&lt;Fixed&gt;),
                    x :: CORBA/&lt;long-double&gt;)
  =&gt; (fixed :: CORBA/&lt;Fixed&gt;)
<P></P>
as(class :: subclass(CORBA/&lt;Fixed&gt;),
                    x :: CORBA/&lt;long&gt;)
  =&gt; (fixed :: CORBA/&lt;Fixed&gt;)
<P></P>
</PRE>
<P><B>Rationale</B></P>
<P>This seems to be the natural mapping to Dylan and approximately mirrors the C++ mapping.</P>
<P><B>Examples</B></P>
<PRE>
// IDL
const fixed&lt;6,2&gt; salary_increment = 0100.50d;
<P></P>
// Dylan
define constant $foo
    :: limited(CORBA/&lt;Fixed&gt;, digits: 6, scale: 2)
  = make(limited(CORBA/&lt;Fixed&gt;, digits: 6, scale: 2),
         digits: "100.5");
<P></P>
</PRE>

</DIV>

<DIV>

<DIV>

<!-- TOC -->

</DIV>

<HR>
<ADDRESS>Developing Component Software with CORBA - 26 May 1999</ADDRESS>
<P><A HREF="corb_156.htm"><IMG ALIGN=BOTTOM SRC=next.gif ALT=Next BORDER=0></A> <A HREF="corb_154.htm"><IMG ALIGN=BOTTOM SRC=prev.gif ALT=Previous BORDER=0></A> <A HREF="corb_151.htm"><IMG ALIGN=BOTTOM SRC=up.gif ALT=Up BORDER=0></A> <A HREF="corba_1.htm"><IMG ALIGN=BOTTOM SRC=top.gif ALT=Top BORDER=0></A> <A HREF="corba_2.htm"><IMG ALIGN=BOTTOM SRC=content.gif ALT=Contents BORDER=0></A> <A HREF="corb_206.htm"><IMG ALIGN=BOTTOM SRC=index.gif ALT=Index BORDER=0></A></P>

</DIV>
</BODY>
</HTML>
