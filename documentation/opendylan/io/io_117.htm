<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<!-- Generated by Harlequin WebMaker 3.0.2 ( 8-May-1997) -->
<HEAD>
<LINK REL=TOP HREF="io_1.htm">
<LINK REL=UP HREF="io_71.htm">
<LINK REL=PREV HREF="io_116.htm">
<LINK REL=NEXT HREF="io_118.htm">
<TITLE> stream-contents</TITLE>
<META NAME=GENERATOR CONTENT="Harlequin WebMaker 3.0.2 ( 8-May-1997)">
</HEAD>
<BODY BGCOLOR="#FEFEF2" TEXT="#000000" LINK="#0000FF" VLINK="#800080" ALINK="#FF0000">

<DIV>
<A NAME=HEADING117></A>

<DIV>
<P><A HREF="io_118.htm"><IMG ALIGN=BOTTOM SRC=next.gif ALT=Next BORDER=0></A> <A HREF="io_116.htm"><IMG ALIGN=BOTTOM SRC=prev.gif ALT=Previous BORDER=0></A> <A HREF="io_71.htm"><IMG ALIGN=BOTTOM SRC=up.gif ALT=Up BORDER=0></A> <A HREF="io_1.htm"><IMG ALIGN=BOTTOM SRC=top.gif ALT=Top BORDER=0></A> <A HREF="io_2.htm"><IMG ALIGN=BOTTOM SRC=content.gif ALT=Contents BORDER=0></A> <A HREF="io_333.htm"><IMG ALIGN=BOTTOM SRC=index.gif ALT=Index BORDER=0></A></P>
<P>5.11   The STREAMS module</P>

</DIV>
<A NAME=HEADING117-0></A>
<H1> <A NAME=MARKER-2-682></A><A NAME=MARKER-2-683></A><A NAME=MARKER-9-684></A>stream-contents</H1>
<P><I>Open generic function</I></P>
<H3>Summary</H3>
<P> Returns a sequence containing all the elements of a positionable stream.</P>
<H3>Signature</H3>
<dl><dd><pre>stream-contents <I>positionable-stream</I> #key <I>clear-contents?</I> <BR>=&gt; <I>sequence</I> </pre></dl>
<H3>Arguments</H3>
<DL>
<P> </P><DT><I>positionable-stream</I> <DD>
<P>An instance of <A HREF="io_103.htm#MARKER-9-608"><CODE>&lt;positionable-stream&gt;</CODE></A>.</P>
<P> </P><DT><I>clear-contents?</I> <DD> An instance of <CODE>&lt;boolean&gt;</CODE>. Default value: <CODE>#t</CODE>.
</DL>
<H3>Values</H3>
<DL>
<P> </P><DT><I>sequence</I><DD> An instance of <CODE>&lt;sequence&gt;</CODE>.
</DL>
<H3><A NAME=MARKER-10-685></A>Library</H3>
<dl><dd><pre>io</pre></dl>
<H3>Module</H3>
<dl><dd><pre>streams</pre></dl>
<H3>Description</H3>
<P> Returns a sequence that contains all of <I>positionable-stream</I>'s elements from its start to its end, regardless of its current position. The type of the returned sequence is as for <A HREF="io_105.htm#MARKER-9-616"><CODE>read</CODE></A>. See page <A HREF="io_56.htm#MARKER-9-322">44</A>.</P>
<P> The <I>clear-contents?</I> argument is only applicable to writeable sequence streams, and is not defined for file-streams or any other external stream. It returns an error if applied to an input only stream. If clear-contents? is <CODE>#t</CODE> (the default for cases where the argument is defined), this function sets the size of the stream to zero, and the position to the stream's start. Thus the next call to <A HREF="#MARKER-9-684"><CODE>stream-contents</CODE></A> will return only the elements written after the previous call to <A HREF="#MARKER-9-684"><CODE>stream-contents</CODE></A>.</P>
<P> Note that the sequence returned never shares structure with any underlying sequence that might be used in the future by the stream. For instance, the string returned by calling <A HREF="#MARKER-9-684"><CODE>stream-contents</CODE></A> on an output <A HREF="io_127.htm#MARKER-9-738"><CODE>&lt;string-stream&gt;</CODE></A> will not be the same string as that being used to represent the string stream.</P>
<H3>Example</H3>
<P> The following forms bind <CODE>stream</CODE> to an output stream over an empty string and create the string "I see!", using the function <A HREF="#MARKER-9-684"><CODE>stream-contents</CODE></A> to access all of the stream's elements.</P>
<DL><DD><PRE>let stream = make(&lt;byte-string-stream&gt;, 
                  direction: #&quot;output&quot;);
write-element(stream, 'I');
write-element(stream, ' ');
write(stream, &quot;see&quot;);
write-element(stream, '!');
stream-contents(stream);</PRE></DL>
<H3>See also</H3>
<P> <A HREF="io_57.htm#MARKER-9-329"><CODE>read-to-end</CODE>,  page 46</A></P>
<P> <A HREF="#MARKER-9-684"><CODE>stream-contents</CODE>,  page 95</A></P>

</DIV>

<DIV>

<DIV>

<!-- TOC -->

</DIV>

<HR>
<ADDRESS>System and I/O Reference - 31 MAR 2000</ADDRESS>
<P><A HREF="io_118.htm"><IMG ALIGN=BOTTOM SRC=next.gif ALT=Next BORDER=0></A> <A HREF="io_116.htm"><IMG ALIGN=BOTTOM SRC=prev.gif ALT=Previous BORDER=0></A> <A HREF="io_71.htm"><IMG ALIGN=BOTTOM SRC=up.gif ALT=Up BORDER=0></A> <A HREF="io_1.htm"><IMG ALIGN=BOTTOM SRC=top.gif ALT=Top BORDER=0></A> <A HREF="io_2.htm"><IMG ALIGN=BOTTOM SRC=content.gif ALT=Contents BORDER=0></A> <A HREF="io_333.htm"><IMG ALIGN=BOTTOM SRC=index.gif ALT=Index BORDER=0></A></P>

</DIV>
</BODY>
</HTML>
