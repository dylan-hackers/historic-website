<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<!-- Generated by Harlequin WebMaker 3.0.2 ( 8-May-1997) -->
<HEAD>
<LINK REL=TOP HREF="dguide_1.htm">
<LINK REL=UP HREF="dguid_37.htm">
<LINK REL=PREV HREF="dguid_37.htm">
<LINK REL=NEXT HREF="dguid_39.htm">
<TITLE>5.3.1   Handling files in the task list manager</TITLE>
<META NAME=GENERATOR CONTENT="Harlequin WebMaker 3.0.2 ( 8-May-1997)">
</HEAD>
<BODY BGCOLOR="#FEFEF2" TEXT="#000000" LINK="#0000FF" VLINK="#800080" ALINK="#FF0000">

<DIV>
<A NAME=HEADING38></A>

<DIV>
<P><A HREF="dguid_39.htm"><IMG ALIGN=BOTTOM SRC=next.gif ALT=Next BORDER=0></A> <A HREF="dguid_37.htm"><IMG ALIGN=BOTTOM SRC=prev.gif ALT=Previous BORDER=0></A> <A HREF="dguid_37.htm"><IMG ALIGN=BOTTOM SRC=up.gif ALT=Up BORDER=0></A> <A HREF="dguide_1.htm"><IMG ALIGN=BOTTOM SRC=top.gif ALT=Top BORDER=0></A> <A HREF="dguide_2.htm"><IMG ALIGN=BOTTOM SRC=content.gif ALT=Contents BORDER=0></A> <A HREF="dgui_110.htm"><IMG ALIGN=BOTTOM SRC=index.gif ALT=Index BORDER=0></A></P>
<P>5.3   Defining the callbacks</P>

</DIV>
<A NAME=HEADING38-0></A>
<H1>5.3.1   <A NAME=MARKER-2-253></A><A NAME=MARKER-2-254></A><A NAME=MARKER-2-255></A><A NAME=MARKER-2-256></A><A NAME=MARKER-2-257></A><A NAME=MARKER-9-258></A>Handling files in the task list manager</H1>
<P>To begin with, you will define the functions and methods that let you save files to disk and load them back into the task list manager. Once you have added these to your code, you will be able to save and reload your task lists into the application; this type of functionality is essential in even the most trivial application.</P>
<P>There are three methods and two functions necessary for handling files. The methods handle GUI-specific operations involved in loading and saving files. The functions deal with the basic task of saving data structures to disk, and loading them from disk. Add the definitions of the methods to <CODE>frame.dylan</CODE>, and the definitions of the functions to <CODE>task-list.dylan</CODE>. </P>
<P><A NAME=MARKER-10-259></A>Each method is invoked as a callback in the definition of the <CODE>&lt;task-frame&gt;</CODE> class:</P>
<DL>
<DT><CODE>open-file</CODE><DD><P> This method prompts the user to choose a filename, and then loads that file into the task list manager by calling the function <CODE>load-task-list</CODE>. It is used as the activate callback for both <CODE>open-button</CODE> (on the application tool bar) and <CODE>open-menu-button</CODE> (in the <B>File</B> menu of the application).</P>
<DT><CODE>save-file</CODE><DD><P> This method saves the task list currently loaded into the application to disk. It is used as the activate callback for both <CODE>save-button</CODE> (on the application tool bar) and <CODE>save-menu-button</CODE> (in the <B>File</B> menu of the application). </P>
<DT><CODE>save-as-file</CODE><DD><P> This method saves the task list currently loaded into the application to disk, and prompts the user to supply a name. It is used as the activate callback for <CODE>save-as-menu-button</CODE> (in the <B>File</B> menu of the application). </P>
</DL>
<P>The following functions are called by the methods described above:</P>
<DL>
<DT><CODE>save-task-list</CODE><DD><P> This function saves an instance of <CODE>&lt;task-list&gt;</CODE> to a named file. It is called by <CODE>save-as-file</CODE>.</P>
<DT><CODE>load-task-list</CODE><DD><P> This function takes the contents of a file on disk and converts it into an instance of <CODE>&lt;task-list&gt;</CODE>. It is called by <CODE>open-as-file</CODE>.</P>
</DL>
<P>The following sections present and explain the code for each of these methods and functions in turn.</P>

</DIV>

<DIV>

<DIV>

<!-- TOC --><DL>
<DL>
<DT><A REL=BELOW HREF="dguid_39.htm#HEADING39-0"><B>5.3.1.1  </B> - The open-file method</A>
<DD>
<DT><A REL=BELOW HREF="dguid_40.htm#HEADING40-0"><B>5.3.1.2  </B> - The save-file method</A>
<DD>
<DT><A REL=BELOW HREF="dguid_41.htm#HEADING41-0"><B>5.3.1.3  </B> - The save-as-file method</A>
<DD>
<DT><A REL=BELOW HREF="dguid_42.htm#HEADING42-0"><B>5.3.1.4  </B> - The load-task-list function</A>
<DD>
<DT><A REL=BELOW HREF="dguid_43.htm#HEADING43-0"><B>5.3.1.5  </B> - The save-task-list function</A>
<DD>
</DL>
</DL>


</DIV>

<HR>
<ADDRESS>Building Applications Using DUIM - 26 May 1999</ADDRESS>
<P><A HREF="dguid_39.htm"><IMG ALIGN=BOTTOM SRC=next.gif ALT=Next BORDER=0></A> <A HREF="dguid_37.htm"><IMG ALIGN=BOTTOM SRC=prev.gif ALT=Previous BORDER=0></A> <A HREF="dguid_37.htm"><IMG ALIGN=BOTTOM SRC=up.gif ALT=Up BORDER=0></A> <A HREF="dguide_1.htm"><IMG ALIGN=BOTTOM SRC=top.gif ALT=Top BORDER=0></A> <A HREF="dguide_2.htm"><IMG ALIGN=BOTTOM SRC=content.gif ALT=Contents BORDER=0></A> <A HREF="dgui_110.htm"><IMG ALIGN=BOTTOM SRC=index.gif ALT=Index BORDER=0></A></P>

</DIV>
</BODY>
</HTML>
