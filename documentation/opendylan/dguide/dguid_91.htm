<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<!-- Generated by Harlequin WebMaker 3.0.2 ( 8-May-1997) -->
<HEAD>
<LINK REL=TOP HREF="dguide_1.htm">
<LINK REL=UP HREF="dguid_66.htm">
<LINK REL=PREV HREF="dguid_90.htm">
<LINK REL=NEXT HREF="dguid_92.htm">
<TITLE>7.2.7   Assigning callbacks to gadgets</TITLE>
<META NAME=GENERATOR CONTENT="Harlequin WebMaker 3.0.2 ( 8-May-1997)">
</HEAD>
<BODY BGCOLOR="#FEFEF2" TEXT="#000000" LINK="#0000FF" VLINK="#800080" ALINK="#FF0000">

<DIV>
<A NAME=HEADING91></A>

<DIV>
<P><A HREF="dguid_92.htm"><IMG ALIGN=BOTTOM SRC=next.gif ALT=Next BORDER=0></A> <A HREF="dguid_90.htm"><IMG ALIGN=BOTTOM SRC=prev.gif ALT=Previous BORDER=0></A> <A HREF="dguid_66.htm"><IMG ALIGN=BOTTOM SRC=up.gif ALT=Up BORDER=0></A> <A HREF="dguide_1.htm"><IMG ALIGN=BOTTOM SRC=top.gif ALT=Top BORDER=0></A> <A HREF="dguide_2.htm"><IMG ALIGN=BOTTOM SRC=content.gif ALT=Contents BORDER=0></A> <A HREF="dgui_110.htm"><IMG ALIGN=BOTTOM SRC=index.gif ALT=Index BORDER=0></A></P>
<P>7.2   A tour of gadgets</P>

</DIV>
<A NAME=HEADING91-0></A>
<H1>7.2.7   <A NAME=MARKER-2-463></A><A NAME=MARKER-2-464></A><A NAME=MARKER-2-465></A><A NAME=MARKER-9-466></A>Assigning callbacks to gadgets</H1>
<P>To make gadgets actually do something, you have to assign them callback functions. A callback is a function that is invoked when a particular event occurs on a gadget, such as pressing a button. When the user presses a button, the appropriate callback method is invoked and some behavior, defined by you, occurs. It is the main way of providing your applications with some kind of interactive functionality. Most classes of gadget have a number of different callbacks available. Like gadget properties, different classes of gadget can have different callback types available. </P>
<P>The most common type of callback is the activate callback. This is the callback that is invoked whenever a general instance <CODE>&lt;action-gadget&gt;</CODE> is activated: for instance, if a push button is clicked. All the gadget classes you have seen so far are general instances of <CODE>&lt;action-gadget&gt;</CODE>.</P>
<P>The following code creates a push button that has an activate callback defined:</P>
<PRE>
make(&lt;push-button&gt;, 
      label: &quot;Hello&quot;, 
      activate-callback: method (button) 
                           notify-user(&quot;Pressed button!&quot;,
                                       owner: button) 
                         end)));
<P></P>
</PRE>
<P>The <CODE>notify-user</CODE> function is a useful function that lets you display a message in a dialog.</P>
<P>Now when you click on the button, a notification pops up saying "Pressed button!"</P>
<TABLE BORDER=1><CAPTION><P>Figure 7.23   Simple behavior of notify-user</P>
</CAPTION><TR VALIGN=TOP><TD><P> <A NAME=MARKER-10-344></A><IMG ALIGN=TOP SRC=dg91im26.gif></P>
</TD></TR></TABLE><P>Two callbacks are unique to general instances of <CODE>&lt;value-gadget&gt;</CODE>: the value-changing and the value-changed callbacks. The value-changing callback is invoked as the gadget value of the gadget changes, and the value-changed callback is invoked when the value has changed, and is passed back to the gadget. </P>
<P>In practice, a value-changing callback is of most use in a gadget whose value you need to monitor constantly, such as a <CODE>&lt;value-range-gadget&gt;</CODE>. A value-changed callback is of most use when the user enters a value explicitly and returns it to the application, for instance by clicking on a button or pressing RETURN.</P>
<P>In a text field, for example, a value-changing callback would be invoked whenever a character is typed in the text field, whereas a value-changed callback would be invoked once the user had finished typing and had returned the value to the gadget. For a text field, the value-changed callback is usually more useful than the value-changing callback.</P>
<PRE>
contain(make(&lt;text-field&gt;, 
             value-changed-callback: 
                method (gadget) 
                notify-user
                   (&quot;Changed to %=&quot;, gadget-value(gadget))
                end));
<P></P>
</PRE>

</DIV>

<DIV>

<DIV>

<!-- TOC -->

</DIV>

<HR>
<ADDRESS>Building Applications Using DUIM - 26 May 1999</ADDRESS>
<P><A HREF="dguid_92.htm"><IMG ALIGN=BOTTOM SRC=next.gif ALT=Next BORDER=0></A> <A HREF="dguid_90.htm"><IMG ALIGN=BOTTOM SRC=prev.gif ALT=Previous BORDER=0></A> <A HREF="dguid_66.htm"><IMG ALIGN=BOTTOM SRC=up.gif ALT=Up BORDER=0></A> <A HREF="dguide_1.htm"><IMG ALIGN=BOTTOM SRC=top.gif ALT=Top BORDER=0></A> <A HREF="dguide_2.htm"><IMG ALIGN=BOTTOM SRC=content.gif ALT=Contents BORDER=0></A> <A HREF="dgui_110.htm"><IMG ALIGN=BOTTOM SRC=index.gif ALT=Index BORDER=0></A></P>

</DIV>
</BODY>
</HTML>
