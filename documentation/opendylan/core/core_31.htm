<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<!-- Generated by Harlequin WebMaker 3.0.2 ( 8-May-1997) -->
<HEAD>
<LINK REL=TOP HREF="core_1.htm">
<LINK REL=UP HREF="core_25.htm">
<LINK REL=PREV HREF="core_30.htm">
<LINK REL=NEXT HREF="core_32.htm">
<TITLE>2.5.2.6   The effects of multiple registrations</TITLE>
<META NAME=GENERATOR CONTENT="Harlequin WebMaker 3.0.2 ( 8-May-1997)">
</HEAD>
<BODY BGCOLOR="#FEFEF2" TEXT="#000000" LINK="#0000FF" VLINK="#800080" ALINK="#FF0000">

<DIV>
<A NAME=HEADING31></A>

<DIV>
<P><A HREF="core_32.htm"><IMG ALIGN=BOTTOM SRC=next.gif ALT=Next BORDER=0></A> <A HREF="core_30.htm"><IMG ALIGN=BOTTOM SRC=prev.gif ALT=Previous BORDER=0></A> <A HREF="core_25.htm"><IMG ALIGN=BOTTOM SRC=up.gif ALT=Up BORDER=0></A> <A HREF="core_1.htm"><IMG ALIGN=BOTTOM SRC=top.gif ALT=Top BORDER=0></A> <A HREF="core_2.htm"><IMG ALIGN=BOTTOM SRC=content.gif ALT=Contents BORDER=0></A> <A HREF="core_271.htm"><IMG ALIGN=BOTTOM SRC=index.gif ALT=Index BORDER=0></A></P>
<P>2.5.2   How the finalization interface works</P>

</DIV>
<A NAME=HEADING31-0></A>
<H1>2.5.2.6   <A NAME=MARKER-2-346></A><A NAME=MARKER-2-347></A><A NAME=MARKER-2-348></A><A NAME=MARKER-9-349></A>The effects of multiple registrations</H1>
<P>Sometimes objects are registered for finalization more than once. The effects of multiple registration are defined as follows: </P>
<DL>
<DT><DD>Calling <A HREF="core_92.htm#MARKER-9-590"><CODE>finalize-when-unreachable</CODE></A> on an object <I>n</I> times causes that object to be added to the finalization queue up to <I>n</I> times, where <I>n</I> is greater than or equal to zero. There is no guarantee that the object will be added exactly <I>n</I> times.
</DL>
<P>Note that this definition so general that it does not guarantee that any object will ever be added to be finalization queue. In practice, Common Dylan's implementation guarantees that an object is added to the queue at least once whenever an object has ben determined to be unreachable by the garbage collector. </P>
<P>To remain robust under multiple registration, finalizers should be idempotent: that is, the effect of multiple <CODE>finalize</CODE> calls on an object should is the same as the effect of a single call. </P>

</DIV>

<DIV>

<DIV>

<!-- TOC -->

</DIV>

<HR>
<ADDRESS>Common Dylan and Functional Extensions - 31 Mar 00</ADDRESS>
<P><A HREF="core_32.htm"><IMG ALIGN=BOTTOM SRC=next.gif ALT=Next BORDER=0></A> <A HREF="core_30.htm"><IMG ALIGN=BOTTOM SRC=prev.gif ALT=Previous BORDER=0></A> <A HREF="core_25.htm"><IMG ALIGN=BOTTOM SRC=up.gif ALT=Up BORDER=0></A> <A HREF="core_1.htm"><IMG ALIGN=BOTTOM SRC=top.gif ALT=Top BORDER=0></A> <A HREF="core_2.htm"><IMG ALIGN=BOTTOM SRC=content.gif ALT=Contents BORDER=0></A> <A HREF="core_271.htm"><IMG ALIGN=BOTTOM SRC=index.gif ALT=Index BORDER=0></A></P>

</DIV>
</BODY>
</HTML>
